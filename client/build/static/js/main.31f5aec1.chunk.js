(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],[,,,,,,,,,,,,function(e,a,t){e.exports={sidebar:"sidebar_sidebar__1ULaV",active:"sidebar_active__MCKgZ",container:"sidebar_container__1B-Th",faLight:"sidebar_faLight__2MXVU",faNormal:"sidebar_faNormal__1X2dx",faBack:"sidebar_faBack__1zNC7",move:"sidebar_move__gWMsC",backBtn:"sidebar_backBtn__2qoQ_",goBackContainer:"sidebar_goBackContainer__3ZdtH",noBottomMargin:"sidebar_noBottomMargin__WPMCg",navLink:"sidebar_navLink__2qlCV",navLinkSmall:"sidebar_navLinkSmall__N7zjs",navLinkCompany:"sidebar_navLinkCompany__2x5ay",navItem:"sidebar_navItem__136W4",navAdminItem:"sidebar_navAdminItem__cGSOb",sidebarNav:"sidebar_sidebarNav__1m7K2"}},,,function(e,a,t){e.exports={navbar:"Navbar_navbar__2KzlH",left:"Navbar_left__1YQR8",middle:"Navbar_middle__3O54x",iconCart:"Navbar_iconCart__2Pu9I",iconContact:"Navbar_iconContact__11yH3",right:"Navbar_right__SAEof",navbarNav:"Navbar_navbarNav__X0_mP",navItem:"Navbar_navItem__7JvXy",navLinkSmall:"Navbar_navLinkSmall__2WYho"}},function(e,a,t){e.exports={footerContainer:"footer_footerContainer__3P8__",left:"footer_left__YpT3E",Logo:"footer_Logo__lLP14",logoDescription:"footer_logoDescription__zvBcN",footerLinksContainer:"footer_footerLinksContainer__2mlxU",footerSocialIcons:"footer_footerSocialIcons__mSsvy",footerLinksLeft:"footer_footerLinksLeft__1atz6",footerLinksRight:"footer_footerLinksRight__1qSlw"}},,,function(e,a,t){e.exports={formBlock:"FormField_formBlock__1qfpn",errorLabel:"FormField_errorLabel__ZkjJu",formSuccess:"FormField_formSuccess__3kr_T",labelInputs:"FormField_labelInputs__2UjEO",checkbox:"FormField_checkbox__VuM21",checkboxSpan:"FormField_checkboxSpan__2dQw9"}},function(e,a,t){e.exports={item:"CartBlock_item__bq9j-",cartBlock:"CartBlock_cartBlock__1gCBW",cartBlockModified:"CartBlock_cartBlockModified__3Wlr7",itemModified:"CartBlock_itemModified__DVtho",buttons:"CartBlock_buttons__Q2mo3",deleteBtn:"CartBlock_deleteBtn__3W3oY",quantity:"CartBlock_quantity__h5SiV",quantityCount:"CartBlock_quantityCount__1pdEl",plusBtn:"CartBlock_plusBtn__wZAGc",minusBtn:"CartBlock_minusBtn__1M3jG",image:"CartBlock_image__3wfKe",description:"CartBlock_description__1YDoa",descriptionModified:"CartBlock_descriptionModified__Nh9r3",totalPrice:"CartBlock_totalPrice__3up5L"}},function(e,a,t){e.exports={formContainer:"Login_formContainer__3O2ER",formContainerRegister:"Login_formContainerRegister__3YZum",heading:"Login_heading__2Kuh9",buttonsContainer:"Login_buttonsContainer__WZpVr",buttonsContainerCenter:"Login_buttonsContainerCenter__3ms_4",switchType:"Login_switchType__1ol_P",errorLabel:"Login_errorLabel__1flHl",logInContainer:"Login_logInContainer__3puhM",logInPhoto:"Login_logInPhoto__3FhW4"}},,,,,,function(e,a,t){e.exports={cardContainer:"ProductCard_cardContainer__L9LYC",cardContainerShop:"ProductCard_cardContainerShop__VzDPr",productImage:"ProductCard_productImage__3o8V3",right:"ProductCard_right__1XZWl",heartContainer:"ProductCard_heartContainer__3p8Xt",buttonContainer:"ProductCard_buttonContainer__3blr1",buttonContainerShop:"ProductCard_buttonContainerShop__3iTVw"}},,,,function(e,a,t){e.exports={shoppingCart:"ShoppingCart_shoppingCart__EDNFt",pageTitle:"ShoppingCart_pageTitle__20fL9",Checkout:"ShoppingCart_Checkout__2M1mh",summary:"ShoppingCart_summary__28mDA",lightLine:"ShoppingCart_lightLine__d9mEd",emptyCart:"ShoppingCart_emptyCart__3RlkC",buttonsContainerCenter:"ShoppingCart_buttonsContainerCenter__3F0Bk",container:"ShoppingCart_container__3azmC"}},,,,function(e,a,t){e.exports={navbar:"header_navbar__2WPr8",header:"header_header__2ptgF",stickyHeader:"header_stickyHeader__3uAWX",logo:"header_logo__14HxI",open:"header_open__2Gi4G"}},function(e,a,t){e.exports={card:"UserBlock_card__1QepZ",iconLeft:"UserBlock_iconLeft__1Z5Mm",rightPanel:"UserBlock_rightPanel__2auDG",ordersCount:"UserBlock_ordersCount__3SM09",userContainer:"UserBlock_userContainer__erh9H",credentials:"UserBlock_credentials__HABeB",manage:"UserBlock_manage__GoXlx",iconRight:"UserBlock_iconRight__29WFk"}},,,function(e,a,t){e.exports={btn:"Button_btn__3EMwW",filtersBtn:"Button_filtersBtn__1Thhv",hideBtn:"Button_hideBtn__wnrrF",dropzoneSlideshow:"Button_dropzoneSlideshow__3-m9w",dropzone:"Button_dropzone__Tgloj"}},function(e,a,t){e.exports={orderBlock:"OrderBlock_orderBlock__20QHm",top:"OrderBlock_top__2qvwR",bottom:"OrderBlock_bottom__3DvIz",active:"OrderBlock_active__2IgDz",product:"OrderBlock_product__2ju4J",productBlock:"OrderBlock_productBlock__2LI6r"}},function(e,a,t){e.exports={container:"WhitePanel_container__1xtFu",textWrapper:"WhitePanel_textWrapper__3KQiv",subWrapper:"WhitePanel_subWrapper__2fUF9",WPanel:"WhitePanel_WPanel__2yc3D",subHeading:"WhitePanel_subHeading__1_cEC",btn:"WhitePanel_btn__1eYXT"}},function(e,a,t){e.exports={orderSuccess:"Checkout_orderSuccess__xaEIc",orderSuccesIcon:"Checkout_orderSuccesIcon__2hPOn",checkoutContainer:"Checkout_checkoutContainer__1JP9F",buttonsContainerCenter:"Checkout_buttonsContainerCenter__wrhxu",shoppingCartContainer:"Checkout_shoppingCartContainer__3tG4m",formRow:"Checkout_formRow__3JwnK"}},,,function(e,a,t){e.exports={container:"Dashboard_container__1fKyN",ordersContainer:"Dashboard_ordersContainer__7037I",chartContainer:"Dashboard_chartContainer__ATu_S",containerUser:"Dashboard_containerUser__2a1PR"}},function(e,a,t){e.exports={sliderWrapper:"carousel_sliderWrapper__2xoQV",slider:"carousel_slider__1pOHS",arrowLeft:"carousel_arrowLeft__1DAlC",arrowRight:"carousel_arrowRight__1qacn",hideArrow:"carousel_hideArrow__2Thm0"}},function(e,a,t){e.exports={container:"UserDetail_container__2RPKo",userContent:"UserDetail_userContent__2q8-D",mainIcon:"UserDetail_mainIcon__1ePxD",credentials:"UserDetail_credentials__3XDhL",showOrdersBtn:"UserDetail_showOrdersBtn__oIF4y"}},,,function(e,a,t){e.exports={mobileNav:"MobileNav_mobileNav__3hzwE",right:"MobileNav_right__2l2Fb",left:"MobileNav_left___F_pJ",middle:"MobileNav_middle__1psn1"}},function(e,a,t){e.exports={productContainer:"ProductPage_productContainer__1Kbft",descriptionContainer:"ProductPage_descriptionContainer__2M5fd",pageContainer:"ProductPage_pageContainer__3Z4l3",heading:"ProductPage_heading__1RFHq",imageContainer:"ProductPage_imageContainer__12yCF"}},,,function(e,a,t){e.exports={hamburger:"hamburger_hamburger__12rxb",hamburgerActive:"hamburger_hamburgerActive__x17xb",hamburger__box:"hamburger_hamburger__box__eMJRu",hamburger__inner:"hamburger_hamburger__inner__1ykrQ"}},,function(e,a,t){e.exports={formContainer:"AddProduct_formContainer__2w2m1",btn:"AddProduct_btn__2c5Zu",formLayout:"AddProduct_formLayout__1-4Kb",dropzone:"AddProduct_dropzone__37Y2-"}},function(e,a,t){e.exports={formContainer:"Register_formContainer__12x6_",heading:"Register_heading__1Nhct",buttonsContainer:"Register_buttonsContainer__3fmVJ",switchType:"Register_switchType__1hEgG",errorLabel:"Register_errorLabel__5Xb_t"}},function(e,a,t){e.exports={Card:"Payment_Card__1MWMK",cardContent:"Payment_cardContent__YWxYH",Heading:"Payment_Heading__1nC91",cardFooter:"Payment_cardFooter__3A7Cc"}},function(e,a,t){e.exports={formContainer:"EditProduct_formContainer__1mseh",btn:"EditProduct_btn__1o3Tu",formLayout:"EditProduct_formLayout__bUBzT",dropzone:"EditProduct_dropzone__10KSs"}},,,,function(e,a,t){e.exports={suggestions:"Search_suggestions__sDnfp",searchInput:"Search_searchInput__shoZX"}},,,,,function(e,a,t){e.exports={wrapper:"NewArrivals_wrapper__3igmW",heading:"NewArrivals_heading__ZoDDH",productsContainer:"NewArrivals_productsContainer__2gNLZ"}},function(e,a,t){e.exports={shopContainer:"Shop_shopContainer__Qd7JC",shop:"Shop_shop__GxV1c",shopHeading:"Shop_shopHeading__IW-zY",filtersContainer:"Shop_filtersContainer__K4iRR",fadein:"Shop_fadein__2HNqh"}},function(e,a,t){e.exports={card:"UserBlock_card__2XDVT",icon:"UserBlock_icon__1zk2y",description:"UserBlock_description__1w9VR"}},function(e,a,t){e.exports={container:"Dashboard_container__1oVwG",descContainer:"Dashboard_descContainer__1hidn",heading:"Dashboard_heading__3uS6M"}},function(e,a,t){e.exports={card:"AdminBlock_card__1E0m6",icon:"AdminBlock_icon__2d1SD",description:"AdminBlock_description__3AY_e"}},,,,,,,function(e,a,t){e.exports={mainContainer:"Landing_mainContainer__3Xjhy",textLogo:"Landing_textLogo__3vSW-"}},function(e,a,t){e.exports={slide:"slide_slide__3lv6C"}},,function(e,a,t){e.exports={loaderBackground:"Loading_loaderBackground__3Zb3x",heartLoader:"Loading_heartLoader__2ihUb",heartLoad:"Loading_heartLoad__6n5ts"}},function(e,a,t){e.exports={NoResultContainer:"NoResult_NoResultContainer__19jVK",content:"NoResult_content__1SRsg"}},function(e,a,t){e.exports={imageContainer:"imageScroller_imageContainer__1_0Hj",icons:"imageScroller_icons__3st8C"}},,,,,,,,,,,,,,,,,,,function(e,a,t){e.exports={container:"page404_container__l9bcF"}},,function(e,a,t){e.exports={ordersContainer:"Orders_ordersContainer__3wMYB"}},,,,,function(e,a,t){e.exports=t(159)},,,,,,,function(e,a,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(33),i=t.n(o),l=t(29),c=t(96),s=t(2),u=t(30),d=(t(117),t(3)),m=t(4),p=t(6),h=t(5),v=t(7),f=t(54),y=t.n(f),b=function(e){function a(){return Object(d.a)(this,a),Object(p.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{className:"".concat(y.a.hamburger," ").concat(this.props.open?y.a.hamburgerActive:null),onClick:this.props.hamburgerClickHandler},r.a.createElement("span",{className:y.a.hamburger__box},r.a.createElement("span",{className:y.a.hamburger__inner})))}}]),a}(n.Component),g=t(35),E=t.n(g),_=t(67),k=t(9),C=t(8),S=t(12),O=t.n(S),N=t(14),D=t.n(N),w=t(63),P=t.n(w),j=t(60),I=t.n(j),M=t(20),L=t.n(M);String.prototype.trunc=function(e,a){if(this.length<=e)return this;var t=this.substr(0,e-1);return(a?t.substr(0,t.lastIndexOf(" ")):t)+" ..."};var x=function(e){var a=e.id,t=e.name,n=e.price,o=e.image,i=e.linkto,l=e.count,c=e.deleteFromCart,u=e.addOne,d=e.subtractOne,m=e.cart;return void 0===m||m?r.a.createElement("div",{className:L.a.cartBlock},r.a.createElement("div",{className:L.a.item},r.a.createElement("div",{className:L.a.buttons},r.a.createElement("button",{className:L.a.deleteBtn,onClick:function(){return c(a)}})),r.a.createElement("div",{className:L.a.image},r.a.createElement("img",{src:o,alt:""})),r.a.createElement("div",{className:L.a.description},r.a.createElement(s.b,{to:i},t.trunc(15,!0)),r.a.createElement("div",{className:L.a.totalPrice},l," x $",n)),r.a.createElement("div",{className:L.a.quantity},r.a.createElement("button",{className:L.a.plusBtn,onClick:function(){return u(a,l)}},r.a.createElement(k.a,{icon:C.j})),r.a.createElement("div",{className:L.a.quantityCount},l),r.a.createElement("button",{className:L.a.minusBtn,onClick:function(){return d(a,l)}},r.a.createElement(k.a,{icon:C.i}))))):r.a.createElement("div",{className:L.a.cartBlockModified},r.a.createElement("div",{className:L.a.itemModified},r.a.createElement("div",{className:L.a.image},r.a.createElement("img",{src:o,alt:""})),r.a.createElement("div",{className:L.a.descriptionModified},r.a.createElement(s.b,{to:i},t.trunc(15,!0)),r.a.createElement("div",{className:L.a.totalPrice,style:{color:"white"}},"$",n))))},T=function(e){var a=e.results.map(function(e){return r.a.createElement("li",{key:e._id},r.a.createElement(x,{id:e._id,name:e.name,count:e.count,price:e.price,image:e.images[0].url,linkto:"/shop/pillows/".concat(e._id),key:e.id,cart:!1}))});return r.a.createElement(I.a,{top:!0},r.a.createElement("ul",{className:P.a.suggestions},a))},B=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={query:"",results:[]},t.getInfo=function(){D.a.get("/api/product/searchByName/".concat(t.state.query)).then(function(e){console.log(e),t.setState({results:e.data},function(){return console.log(t.state)})})},t.handleInputChange=function(){t.setState({query:t.search.value},function(){t.state.query&&t.state.query.length>1?t.getInfo():t.state.query})},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("form",null,r.a.createElement("input",{placeholder:"Search",ref:function(a){return e.search=a},onChange:this.handleInputChange,className:P.a.searchInput}),!this.props.hideSuggestions&&this.state.query&&this.state.results.length>0?r.a.createElement(T,{results:this.state.results}):null)}}]),a}(n.Component),A=function(e){var a=r.a.useState(!1),t=Object(_.a)(a,2),n=t[0],o=t[1],i=[{name:"Home",linkto:"/"},{name:"Dashboard",linkto:"/account/admin"},{name:"Add product",linkto:"/account/admin/add_product"},{name:"Orders",linkto:"/account/admin/orders"},{name:"Clients",linkto:"/account/admin/users"}],l=function(e){"text"===e.target.type?o(!0):o(!1)};return r.a.createElement("div",{className:"".concat(O.a.sidebar," ").concat(e.open?O.a.active:"")},r.a.createElement("div",{className:O.a.container,onClick:function(e){return l(e)}},e.admin?r.a.createElement("ul",{className:O.a.sidebarNav},i.map(function(a,t){return r.a.createElement("li",{className:O.a.navAdminItem,onClick:e.close,key:t},r.a.createElement(s.b,{to:a.linkto,className:O.a.navLink},a.name))})):r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:O.a.sidebarNav},r.a.createElement("li",{className:O.a.navItem,onClick:function(e){return l(e)}},r.a.createElement(B,{hideSuggestions:!n}),r.a.createElement(k.a,{icon:C.l,className:O.a.faLight}))),r.a.createElement("hr",null),n?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:O.a.sidebarNav},r.a.createElement("li",{className:O.a.navItem,onClick:e.close},r.a.createElement(s.b,{to:"/shop/plushies",className:O.a.navLinkSmall},"Plushies"),r.a.createElement(k.a,{icon:C.d,className:O.a.faNormal})),r.a.createElement("li",{className:O.a.navItem,onClick:e.close},r.a.createElement(s.b,{to:"/shop/blankets",className:O.a.navLinkSmall},"Blankets"),r.a.createElement(k.a,{icon:C.b,className:O.a.faNormal})),r.a.createElement("li",{className:O.a.navItem,onClick:e.close},r.a.createElement(s.b,{to:"/shop/pillows",className:O.a.navLinkSmall},"Pillows"),r.a.createElement(k.a,{icon:C.n,className:O.a.faNormal}))),r.a.createElement("hr",null),r.a.createElement("ul",{className:"".concat(O.a.sidebarNav," ").concat(O.a.noBottomMargin)},r.a.createElement("li",{className:O.a.navItem,onClick:e.close},r.a.createElement(s.b,{to:"/account/login",className:O.a.navLinkCompany},"Account")),r.a.createElement("li",{className:"".concat(O.a.navItem," ").concat(O.a.noBottomMargin),onClick:e.close},r.a.createElement(s.b,{to:"/company/contact",className:O.a.navLinkCompany},"Contact"))))),r.a.createElement("div",{onClick:e.close,className:O.a.goBackContainer},r.a.createElement("div",{className:O.a.backBtn},r.a.createElement(k.a,{icon:C.a,className:O.a.faBack})))))},R=t(15),F=t.n(R),U=function(e){return r.a.createElement(s.b,{to:"/"},r.a.createElement("div",null,r.a.createElement("img",{src:"/images/logo.png",alt:"Company logo",className:"".concat(E.a.logo," ").concat(e.open?E.a.open:null)})))},G=function(e){Object(n.useState)(!1);var a=[{name:"Home",linkto:"/"},{name:"Dashboard",linkto:"/account/admin"},{name:"Add product",linkto:"/account/admin/add_product"},{name:"Orders",linkto:"/account/admin/orders"},{name:"Clients",linkto:"/account/admin/clients"}];return r.a.createElement("div",{className:F.a.navbar},e.admin?r.a.createElement("div",{className:F.a.left},r.a.createElement("ul",{className:F.a.navbarNav},a.map(function(a,t){return r.a.createElement("li",{className:F.a.navItem,onClick:e.close,key:t},r.a.createElement(s.b,{to:a.linkto,className:F.a.navLink},a.name))}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:F.a.left},r.a.createElement("ul",{className:F.a.navbarNav},r.a.createElement("li",{className:F.a.navItem},r.a.createElement(s.b,{to:"/shop/plushies",className:F.a.navLinkSmall},"Plushies")),r.a.createElement("li",{className:F.a.navItem},r.a.createElement(s.b,{to:"/shop/blankets",className:F.a.navLinkSmall},"Blankets")),r.a.createElement("li",{className:F.a.navItem},r.a.createElement(s.b,{to:"/shop/pillows",className:F.a.navLinkSmall},"Pillows")),r.a.createElement("li",{className:F.a.iconCart},r.a.createElement(s.b,{to:"/user/shopingCart",className:F.a.navLinkSmall},r.a.createElement(k.a,{icon:C.m}))))),r.a.createElement("div",{className:F.a.middle},r.a.createElement(U,null)),r.a.createElement("div",{className:F.a.right},r.a.createElement("ul",{className:F.a.navbarNav},r.a.createElement("li",{className:F.a.iconContact},r.a.createElement(s.b,{to:"/company/contact",className:F.a.navLinkSmall},r.a.createElement(k.a,{icon:C.g}))),r.a.createElement("li",{className:F.a.navItem},r.a.createElement(s.b,{to:"/account/login",className:F.a.navLinkSmall},"account")),r.a.createElement("li",{className:F.a.navItem},r.a.createElement(s.b,{to:"/company/about",className:F.a.navLinkSmall},"about")),r.a.createElement("li",{className:F.a.navItem},r.a.createElement(B,null))))))},H=t(50),z=t.n(H),q=function(e){var a=e.hamburgerClickHandler,t=e.open;return r.a.createElement("div",{className:z.a.mobileNav},r.a.createElement("div",{className:z.a.left},r.a.createElement(b,{hamburgerClickHandler:a,open:t})),r.a.createElement("div",{className:z.a.middle},r.a.createElement(U,null)),r.a.createElement("div",{className:z.a.right},r.a.createElement(s.b,{to:"/user/shopingCart",className:z.a.navLinkSmall},r.a.createElement(k.a,{icon:C.m}))))},W=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={sidebarOpen:!1,isMobile:!0,stickyHeader:"/"!==t.props.location.pathname},t.hamburgerClickHandler=function(){t.setState(function(e){return{sidebarOpen:!e.sidebarOpen}})},t.resize=function(){t.setState({isMobile:window.innerWidth<770})},t.stickHeader=function(){var e=window.pageYOffset;e>=500&&t.setState({stickyHeader:!0}),e<=500&&t.setState({stickyHeader:!1})},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isMobile:window.innerWidth<1200},function(){e.state.isMobile||"/"!==e.props.location.pathname||window.addEventListener("scroll",e.stickHeader),window.addEventListener("resize",e.resize)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.stickHeader),window.removeEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(e,a,t){this.props.location.pathname!==e.location.pathname&&"/"===this.props.location.pathname&&window.addEventListener("scroll",this.stickHeader)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"".concat(E.a.header," ").concat(this.state.stickyHeader&&!this.state.isMobile?E.a.stickyHeader:null)},r.a.createElement("nav",{className:"".concat(this.state.sidebarOpen?"".concat(E.a.navbar," ").concat(E.a.open):"".concat(E.a.navbar))},this.state.isMobile?r.a.createElement(q,{hamburgerClickHandler:this.hamburgerClickHandler,open:this.state.sidebarOpen}):r.a.createElement(G,{admin:this.props.admin}))),r.a.createElement(A,{open:this.state.sidebarOpen,close:this.hamburgerClickHandler,admin:this.props.admin}))}}]),a}(n.Component),K=Object(u.g)(W),V=t(16),Y=t.n(V),J=t(55),Z=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:Y.a.footerContainer},r.a.createElement("div",{className:Y.a.left},r.a.createElement("div",{className:Y.a.Logo},r.a.createElement(U,null)),r.a.createElement("div",{className:Y.a.logoDescription},r.a.createElement("div",null,r.a.createElement("h3",null,"Finest quality ",r.a.createElement("span",null,"plushies")),r.a.createElement("span",{className:Y.a.subHeading},"Delivered right at your doorstep"),r.a.createElement("p",null,"Hand crafted & stitched to suit your preferences ")))),r.a.createElement("div",{className:Y.a.footerLinksContainer},r.a.createElement("div",{className:Y.a.footerLinksLeft},r.a.createElement("ul",null,r.a.createElement("li",{className:Y.a.navItem},r.a.createElement("h4",null,"CATEGORIES")),r.a.createElement("li",{className:Y.a.navItem},r.a.createElement(s.b,{to:"/shop/plushies",className:Y.a.navLinkSmall},"Plushies")),r.a.createElement("li",{className:Y.a.navItem},r.a.createElement(s.b,{to:"/shop/blankets",className:Y.a.navLinkSmall},"Blankets")),r.a.createElement("li",{className:Y.a.navItem},r.a.createElement(s.b,{to:"/shop/pillows",className:Y.a.navLinkSmall},"Pillows")))),r.a.createElement("div",{className:Y.a.footerLinksRight},r.a.createElement("ul",null,r.a.createElement("li",{className:Y.a.navItem},r.a.createElement("h4",null,"ABOUT")),r.a.createElement("li",{className:Y.a.navItem},r.a.createElement(s.b,{to:"/account/login",className:Y.a.navLinkSmall},"account")),r.a.createElement("li",{className:Y.a.navItem},r.a.createElement(s.b,{to:"/company/about",className:Y.a.navLinkSmall},"about")),r.a.createElement("li",{className:Y.a.navItem},r.a.createElement(s.b,{to:"/search",className:Y.a.navLinkSmall},"search"))))),r.a.createElement("div",{className:Y.a.footerSocialIcons},r.a.createElement(k.a,{icon:J.a}),r.a.createElement(k.a,{icon:J.d}),r.a.createElement(k.a,{icon:J.c}),r.a.createElement(k.a,{icon:J.b}))))},X=function(e){function a(){return Object(d.a)(this,a),Object(p.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null),this.props.children,this.props.no?null:r.a.createElement(Z,null))}}]),a}(n.Component),Q=t(79),$=t.n(Q),ee=t(46),ae=t.n(ee),te=t(80),ne=t.n(te),re=t(41),oe=t.n(re),ie=t(39),le=t.n(ie),ce=function(e){var a=e.clicked,t=e.content,n=e.linkto,o=e.hideButton;return n?r.a.createElement(s.b,{to:n},r.a.createElement("button",{onClick:a,className:le.a.btn},t)):r.a.createElement("button",{onClick:a,className:"".concat(le.a.btn," ").concat("Filters"===t?le.a.filtersBtn:null," ").concat("Filters"===t&&o?le.a.hideBtn:null)},t)},se=function(e){var a=e.title,t=e.sub,n=e.linkName;e.linkTo;return r.a.createElement("div",{className:oe.a.container},r.a.createElement("div",{className:oe.a.WPanel},r.a.createElement("div",{className:oe.a.textWrapper},r.a.createElement("h3",null,n)),r.a.createElement("div",{className:oe.a.subWrapper},a?r.a.createElement("h3",null,a):r.a.createElement("h3",null,"Finest quality ",r.a.createElement("span",null,n)),t?r.a.createElement("span",{className:oe.a.subHeading},t):r.a.createElement("span",{className:oe.a.subHeading},"Delivered right at your doorstep"),a?r.a.createElement("p",null,"Here is what you can do "):r.a.createElement("p",null,"Hand crafted & stitched to suit your preferences "),r.a.createElement("div",{className:oe.a.btn},a?r.a.createElement(ce,{content:"Home page",linkto:"/"}):r.a.createElement(ce,{content:"Shop now"})))))},ue=function(e){var a=e.image,t=e.name,n=e.linkto,o=e.mobile,i={backgroundImage:"url(".concat(a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 60%"};return n?r.a.createElement(s.b,{to:n},r.a.createElement("div",{className:ne.a.slide,style:i},t?r.a.createElement(se,{linkName:t,linkTo:n,mobile:o}):null)):r.a.createElement("div",{className:ne.a.slide,style:i},t?r.a.createElement(se,{linkName:t,linkTo:n,mobile:o}):null)},de=t(75),me=t.n(de);function pe(e,a,t){var n;return function(){var r=this,o=arguments,i=t&&!n;clearTimeout(n),n=setTimeout(function(){n=null,t||e.apply(r,o)},a),i&&e.apply(r,o)}}var he=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={images:["/images/landing1.jpg","/images/landing2.jpg","/images/landing3.jpg"],links:[{name:"Plushies",to:"/shop/plushies"},{name:"Blankets",to:"/shop/blankets"},{name:"Pillows",to:"/shop/pillows"}],currentIndex:0,translateValue:0,isMobile:!0,offset:25},t.goToNextSlide=function(){if(t.state.currentIndex===t.state.images.length-1)return t.setState({currentIndex:0,translateValue:0});t.setState(function(e){return{currentIndex:e.currentIndex+1,translateValue:e.translateValue-window.innerWidth}},function(){clearInterval(t.intervalID),t.intervalID=setInterval(t.goToNextSlide,1e4)})},t.goToPrevSlide=function(){if(0===t.state.currentIndex)return t.setState({currentIndex:0,translateValue:0});t.setState(function(e){return{currentIndex:e.currentIndex-1,translateValue:e.translateValue+window.innerWidth}},function(){clearInterval(t.intervalID),t.intervalID=setInterval(t.goToNextSlide,1e4)})},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.intervalID=setInterval(this.goToNextSlide,1e4),this.setState({isMobile:window.innerWidth<=768,offset:window.innerWidth<=768?25:500})}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"onSwipeMove",value:function(e,a){e.x<-30?this.goToNextSlide():e.x>30&&this.goToPrevSlide()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ae.a.slider},r.a.createElement("div",{className:"".concat(ae.a.arrowLeft," ").concat(0===this.state.currentIndex?ae.a.hideArrow:null),onClick:this.goToPrevSlide}," "),r.a.createElement("div",{className:"".concat(ae.a.arrowRight," ").concat(this.state.currentIndex===this.state.images.length-1?ae.a.hideArrow:null),onClick:this.goToNextSlide}," "),r.a.createElement(me.a,{onSwipeMove:pe(this.onSwipeMove.bind(this),35)},r.a.createElement("div",{className:ae.a.sliderWrapper,style:{transform:"translateX(".concat(this.state.translateValue,"px)"),transition:"all 0.45s ease-in-out"}},this.state.images.map(function(a,t){return r.a.createElement(ue,{key:t,mobile:e.state.isMobile,image:a,name:e.state.links[t].name,linkto:e.state.links[t].to})}))))}}]),a}(n.Component),ve=t(27),fe=t.n(ve);String.prototype.trunc=function(e,a){if(this.length<=e)return this;var t=this.substr(0,e-1);return(a?t.substr(0,t.lastIndexOf(" ")):t)+" ..."};var ye=function(e){var a=e.image,t=e.name,n=e.sub,o=e.price,i=e.linkto,c=e.addToCart,u=e.type,d=e.id,m=e.role,p={backgroundImage:"url(".concat(a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 60%"},h=Object(l.d)();switch(u){case"landing":return r.a.createElement("div",{className:fe.a.cardContainer},r.a.createElement(s.b,{to:i,className:fe.a.productLink},r.a.createElement("img",{src:a,alt:"".concat(t," photo")})),r.a.createElement("div",{className:fe.a.heartContainer},r.a.createElement(k.a,{icon:C.h}),r.a.createElement(k.a,{icon:C.h}),r.a.createElement(k.a,{icon:C.h}),r.a.createElement(k.a,{icon:C.h}),r.a.createElement(k.a,{icon:C.h})),r.a.createElement("div",{className:fe.a.infoContainer},r.a.createElement("p",null,r.a.createElement("span",null," ",t.trunc(20,!0)," ",r.a.createElement("br",null)),n.trunc(20,!0)," ",r.a.createElement("br",null),r.a.createElement("span",null,"$",o," ")),r.a.createElement("div",{className:fe.a.buttonContainer,onClick:function(){return h.show("Product added",{type:"success"})}},r.a.createElement(ce,{content:"Add to cart",clicked:c}))));case"shop":return r.a.createElement("div",{className:fe.a.cardContainerShop},r.a.createElement(s.b,{to:i,className:fe.a.productLink},r.a.createElement("div",{className:fe.a.productImage,style:p})),r.a.createElement("div",{className:fe.a.infoContainerShop},r.a.createElement("p",null,r.a.createElement("span",null," ",t.trunc(20,!0)," ",r.a.createElement("br",null)),n.trunc(20,!0)," ",r.a.createElement("br",null),r.a.createElement("span",null,"$",o," ")),r.a.createElement("div",{className:fe.a.buttonContainerShop,onClick:function(){return h.show("Product added",{type:"success"})}},r.a.createElement(ce,{content:"Add to cart",clicked:c})),m?r.a.createElement("div",{className:fe.a.buttonContainerShop},r.a.createElement(ce,{content:"Edit",linkto:"/account/admin/edit_product/".concat(d)})):null));default:return null}},be=t(68),ge=t.n(be),Ee=function(e,a,t,n,r,o){var i=[],l={id:e,count:1,name:t,price:n,images:r,linkto:o};if(localStorage.getItem("cart")&&JSON.parse(localStorage.getItem("cart"))!==[]){var c=(i=JSON.parse(localStorage.getItem("cart"))).find(function(a){return a.id===e});c?c.count++:i.push(l)}else i=[l];localStorage.setItem("cart",JSON.stringify(i))},_e=t(11),ke=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={products:[{name:"Panda with christmas lights",sub:"Perfect present for christmas",price:"15",image:"/images/new1.png",linkto:"/shop"},{name:"Brother and sister",sub:"Lovely sibling lorem ipsum",price:"15",image:"/images/new2.png",linkto:"/shop"},{name:"Plushie of a dog on a couch",sub:"It is on a couch",price:"15",image:"/images/new3.jpg",linkto:"/shop"},{name:"Plushie of a dog on a couch",sub:"It is on a couch",price:"15",image:"/images/new3.jpg",linkto:"/shop"}]},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement("div",{className:ge.a.wrapper},r.a.createElement("p",{className:ge.a.heading},r.a.createElement("span",null,"Featured")),r.a.createElement("div",{className:ge.a.productsContainer},this.props.data.articles.map(function(a){return r.a.createElement(ye,{role:e.props.isAdmin,type:"landing",image:a.images[0].url,name:a.name,sub:a.description,price:a.price,linkto:"/shop/".concat(a.type,"/").concat(a._id),key:a._id,id:a._id,addToCart:function(){return Ee(a._id,e.props.isAuth,a.name,a.price,a.images[0].url,"/shop/".concat(a.type,"/").concat(a._id))}})})))}}]),a}(n.Component),Ce=Object(_e.b)(function(e){return{isAuth:e.user.userData.isAuth,isAdmin:e.user.userData.isAdmin}})(ke),Se=t(38),Oe=function(){return{type:"GET_BRANDS",payload:D.a.get("".concat("/api/product","/brands")).then(function(e){return e.data})}},Ne=function(){return{type:"GET_MATERIALS",payload:D.a.get("".concat("/api/product","/materials")).then(function(e){return e.data})}},De=function(e){return{type:"ADD_PRODUCT",payload:D.a.post("".concat("/api/product","/article"),e).then(function(e){return e.data})}},we=function(e,a){return console.log(e,a),{type:"EDIT_PRODUCT",payload:D.a.post("".concat("/api/product","/edit_product/").concat(a),e).then(function(e){return e.data})}},Pe=function(e,a,t,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],i={filters:e,skip:a,limit:t,sortBy:n,order:r},l=D.a.post("".concat("/api/product","/shop"),i).then(function(e){return{articles:[].concat(Object(Se.a)(o),Object(Se.a)(e.data.articles)),size:e.data.articles.length}});return{type:"GET_PRODUCTS",payload:l}},je=function(e){return{type:"GET_PRODUCTS_BY_ID",payload:D.a.get("".concat("/api/product","/articles_by_id/").concat(e)).then(function(e){return e.data})}},Ie=t(82),Me=t.n(Ie),Le=function(){return r.a.createElement("div",{className:Me.a.loaderBackground},r.a.createElement("div",{className:Me.a.heartLoader},r.a.createElement("div",null)))},xe=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={loading:!0,limit:4,skip:0,filters:{brand:new Set,material:new Set,type:[]||!1,price:[]},products:[]},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(Pe(this.state.filters,this.state.skip,this.state.limit,this.state.sortBy)).then(function(a){e.setState({loading:!1,products:a.payload},function(){return console.log(e.state)})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(Le,null):r.a.createElement(X,null,r.a.createElement("div",{className:$.a.mainContainer},r.a.createElement(he,{type:"main"})),r.a.createElement("div",{className:$.a.mainContainer},r.a.createElement(Ce,{data:this.state.products})))}}]),a}(n.Component),Te=t(22),Be=t(69),Ae=t.n(Be),Re=t(19),Fe=t.n(Re),Ue=function(e){var a=e.formData,t=e.change,n=e.id,o=function(){var e="";return a.validation&&!a.valid&&(e=r.a.createElement("div",{className:Fe.a.errorLabel},a.validationMessage)),e},i=function(e){var a;return void 0!==e.key?a="e"===e.key||"."===e.key||"+"===e.key||"-"===e.key:void 0!==e.keyCode&&(a=69===e.keyCode||190===e.keyCode||187===e.keyCode||189===e.keyCode),a&&e.preventDefault()};return r.a.createElement("div",null,function(){var e="";switch(a.element){case"input":e=r.a.createElement("div",{className:Fe.a.formBlock},a.showLabel?r.a.createElement("div",{className:Fe.a.labelInputs},a.config.label):null,r.a.createElement("input",Object.assign({},a.config,{value:a.value,onBlur:function(e){t({event:e,id:n,blur:!0})},onChange:function(e){t({event:e,id:n})},onKeyDown:"number"===a.config.type?i:null})),o());break;case"textarea":e=r.a.createElement("div",{className:Fe.a.formBlock},a.showLabel?r.a.createElement("div",{className:Fe.a.labelInputs},a.config.label):null,r.a.createElement("textarea",Object.assign({},a.config,{value:a.value,onBlur:function(e){t({event:e,id:n,blur:!0})},onChange:function(e){t({event:e,id:n})}})),o());break;case"select":e=r.a.createElement("div",{className:Fe.a.formBlock},a.showLabel?r.a.createElement("div",{className:Fe.a.labelInputs},a.config.label):null,r.a.createElement("select",Object.assign({},a.config,{value:a.value,onBlur:function(e){t({event:e,id:n,blur:!0})},onChange:function(e){t({event:e,id:n})}}),r.a.createElement("option",{value:""},"Select one"),a.config.options.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value," ")})),o());break;default:e=""}return e}())};function Ge(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function He(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ge(t,!0).forEach(function(a){Object(Te.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ge(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var ze=function(e,a){var t={};for(var n in e)"confirmPassword"!==n&&(t[n]=e[n].value);return t},qe=function(e,a){var t=!0;for(var n in e)t=e[n].valid&&t;return t},We=function(e,a,t){var n=He({},a),r=He({},n[e.id]);if(r.value=e.event.target.value,e.blur){var o=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[!0,""];if(e.validation.email){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=n.test(e.value),o="".concat(r?"":"You must enter an email!");t=r?t:[r,o]}if(e.validation.confirm){var i=e.value.trim()===a[e.validation.confirm].value,l="".concat(i?"":"Passwords do not match");t=i?t:[i,l]}if(e.validation.required){var c=""!==e.value.trim(),s="".concat(c?"":"This field is required");t=c?t:[c,s]}return t}(r,a);r.valid=o[0],r.validationMessage=o[1]}return r.touched=e.blur,n[e.id]=r,n},Ke=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0,n=[],r=He({},e);return a.forEach(function(e){n.push({key:e._id,value:e.name})}),r[t].config.options=n,r},Ve=function(e){var a=He({},e);for(var t in a)a[t].value="images"===t?[]:"",a[t].valid=!1,a[t].touched=!1,a[t].validationMessage="";return a},Ye=function(e,a){for(var t in e)void 0!==a[t]&&(e[t].value=a[t],e[t].valid=!0,e[t].touched=!0,e[t].validationMessage="");return e},Je=function(e){var a=e.id,t=e.name,n=e.checked,o=e.onChange,i=e.type,l=void 0===i?"checkbox":i;return r.a.createElement("label",{htmlFor:t},r.a.createElement("div",{className:Fe.a.formBlock},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("input",{type:l,checked:n,onChange:o,id:a,className:Fe.a.checkbox}),r.a.createElement("span",{className:Fe.a.checkboxSpan},t))))},Ze=t(83),Xe=t.n(Ze),Qe=t(99),$e=t(65),ea=function(e){var a=e.success,t=e.content,n=a?$e.faSmile:Qe.faFrown;return r.a.createElement("div",{className:Xe.a.NoResultContainer},r.a.createElement("div",{className:Xe.a.content},r.a.createElement(k.a,{icon:n,style:{fontSize:"48px"}}),r.a.createElement("h2",null,t)))};function aa(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ta(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?aa(t,!0).forEach(function(a){Object(Te.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):aa(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var na=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).state={desktop:window.innerWidth>=768,brands:!1,materials:!1,loading:!0,filtering:!1,sortBy:"",order:"",limit:6,skip:0,filters:{brand:new Set,material:new Set,type:[]||!1,price:[]},formError:!1,formSuccess:!1,formData:{priceFrom:{element:"input",value:"",config:{label:"Price",name:"priceFrom_input",type:"number",placeholder:"Min",min:0},validation:{required:!1,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},priceTo:{element:"input",value:"",config:{label:"Product name",name:"priceTo_input",type:"number",placeholder:"Max",min:0},validation:{required:!1,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!1},brand:{element:"select",value:"",config:{label:"Product brand",name:"brand_input",options:[]},validation:{required:!1,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},material:{element:"select",value:"",config:{label:"product material",name:"material_input",options:[]},validation:{required:!1,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},sortBy:{element:"select",value:"",config:{label:"Sort by",name:"sort_input",options:[{key:"name",value:"Name"},{key:"price",value:"Price ascending"},{key:"sold",value:"Sold"}]},validation:{required:!1,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0}}},t.renderProducts=function(){return t.props.shop.articles.map(function(e){return r.a.createElement(ye,{role:t.props.user.userData.isAdmin,type:"shop",image:e.images[0].url,name:e.name,sub:e.description,price:e.price,linkto:"/shop/".concat(e.type,"/").concat(e._id),key:e._id,id:e._id,addToCart:function(){return Ee(e._id,t.props.isAuth,e.name,e.price,e.images[0].url,"/shop/".concat(e.type,"/").concat(e._id))}})})},t.openFilters=function(){t.setState({filtering:!0})},t.onSubmit=function(e){e.preventDefault(),t.handleFilters()},t.onChange=function(e){var a=e.id,n=We(e,t.state.formData,"filters");"sortBy"===a?t.setState({formError:!1,formData:n,sortBy:n.sortBy.value}):t.setState(function(e){return{formError:!1,formData:n,filters:ta({},e.filters,Object(Te.a)({},a,n[a].value))}})},t.handleCheckbox=function(e,a){t.selectedCheckboxes[a].has(e)?t.selectedCheckboxes[a].delete(e):t.selectedCheckboxes[a].add(e),t.setState(function(e){return{filters:ta({},e.filters,{brand:Array.from(t.selectedCheckboxes.brand),material:Array.from(t.selectedCheckboxes.material)})}})},t.renderFilterPage=function(){return r.a.createElement("div",{className:Ae.a.filtersContainer},r.a.createElement("h1",null,"Apply filters"),r.a.createElement("form",{onSubmit:function(e){return t.onSubmit(e)}},r.a.createElement(Ue,{id:"priceFrom",formData:t.state.formData.priceFrom,change:function(e){return t.onChange(e)}}),r.a.createElement(Ue,{id:"priceTo",formData:t.state.formData.priceTo,change:function(e){return t.onChange(e)}}),r.a.createElement("div",{className:Fe.a.formBlock},r.a.createElement("label",{className:Fe.a.labelInputs},"Brand"),t.props.brands.map(function(e){return r.a.createElement(Je,{key:e._id,id:e._id,name:e.name,checked:t.selectedCheckboxes.brand.has(e._id),onChange:function(){return t.handleCheckbox(e._id,"brand")}})})),r.a.createElement("div",{className:Fe.a.formBlock},r.a.createElement("label",{className:Fe.a.labelInputs},"Material"),t.props.materials.map(function(e){return r.a.createElement(Je,{key:e._id,id:e._id,name:e.name,checked:t.selectedCheckboxes.material.has(e._id),onChange:function(){return t.handleCheckbox(e._id,"material")}})})),r.a.createElement(Ue,{id:"sortBy",formData:t.state.formData.sortBy,change:function(e){return t.onChange(e)}}),r.a.createElement(ce,{onClick:function(e){return t.onSubmit(e)},content:"Apply"})))},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({filters:{type:this.props.match.params.type}},function(){return e.handleFilters()}),this.selectedCheckboxes={brand:new Set,material:new Set};var a=this.state.formData;this.props.dispatch(Oe()).then(function(t){var n=Ke(a,t.payload,"brand");e.setState({formData:n,brands:!0})}),this.props.dispatch(Ne()).then(function(t){var n=Ke(a,t.payload,"material");e.setState({formData:n,materials:!0})})}},{key:"componentDidUpdate",value:function(e,a,t){var n=this;this.props.match.params.type!==e.match.params.type&&this.setState({filters:{type:this.props.match.params.type}},function(){return n.handleFilters()})}},{key:"handleFilters",value:function(){var e=this;this.setState({loading:!0,filtering:!1}),this.props.dispatch(Pe(this.state.filters,this.state.skip,this.state.limit,this.state.sortBy)).then(function(a){e.setState({loading:!1})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(Le,null):r.a.createElement(X,{no:!0},0===this.props.shop.size?r.a.createElement(ea,{success:!1,content:"Sorry, no results"}):r.a.createElement("div",{className:Ae.a.shop},this.state.desktop&&this.state.brands&&this.state.materials?this.renderFilterPage():null,r.a.createElement("div",{className:Ae.a.shopContainer},this.props.shop.articles?this.renderProducts():null,this.state.filtering?this.renderFilterPage():null)),this.state.filtering?this.renderFilterPage():null,r.a.createElement(ce,{content:"Filters",clicked:this.openFilters,hideButton:this.state.filtering}))}}]),a}(n.Component),ra=Object(_e.b)(function(e){return{shop:e.product,brands:e.product.brands,materials:e.product.materials,isAuth:e.user.userData.isAuth,isAdmin:e.user.userData.isAdmin}})(na),oa=t(21),ia=t.n(oa),la=t(66),ca=t.n(la),sa=function(e){return{type:"LOGIN",payload:D.a.post("".concat("/api/users","/login"),e).then(function(e){return e.data}).catch(function(e){return e})}},ua=function(){return{type:"LOGOUT",payload:D.a.get("".concat("/api/users","/logout")).then(function(e){return e.data}).catch(function(e){return e})}},da=function(e){return{type:"REGISTER",payload:D.a.post("".concat("/api/users","/register"),e).then(function(e){return e.data}).catch(function(e){return e})}},ma=function(){return{type:"AUTH_USER",payload:D.a.get("".concat("/api/users","/auth")).then(function(e){return e.data})}},pa=function(e){return{type:"CHECKOUT",payload:D.a.post("".concat("/api/users","/orders"),e).then(function(e){return e.data}).catch(function(e){return e})}},ha=function(e){var a={id:e};return{type:"UPDATE_HISTORY",payload:D.a.post("".concat("/api/users","/updateHistory"),a).then(function(e){return e.data}).catch(function(e){return e})}},va=t(37),fa=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={desktop:window.innerWidth>=768,formError:!1,formSuccess:!1,formData:{email:{element:"input",value:"",config:{name:"email_input",type:"email",placeholder:"Enter your email"},validation:{required:!0,email:!0},valid:!1,touched:!1,validationMessage:""},name:{element:"input",value:"",config:{name:"name_input",type:"text",placeholder:"Enter your name"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:""},lastName:{element:"input",value:"",config:{name:"lastName_input",type:"text",placeholder:"Enter your last name"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:""},password:{element:"input",value:"",config:{name:"password_input",type:"password",placeholder:"Enter your password"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:""},confirmPassword:{element:"input",value:"",config:{name:"confirmPassword_input",type:"password",placeholder:"Confirm your password"},validation:{required:!0,email:!1,confirm:"password"},valid:!1,touched:!1,validationMessage:""}}},t.onChange=function(e){var a=We(e,t.state.formData,"register");t.setState({formError:!1,formData:a})},t.onSubmit=function(e){e.preventDefault();var a=ze(t.state.formData,"register");qe(t.state.formData,"register")?t.props.dispatch(da(a)).then(function(e){console.log(e),e.payload.success?(t.setState({formError:!1,formSuccess:!0}),setTimeout(t.props.changeType,500)):t.setState({formError:!0})}):t.setState({formError:!0})},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(ca.a,{top:!0},r.a.createElement("div",{className:ia.a.formContainerRegister},r.a.createElement("h2",{className:ia.a.heading},"Register"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(Ue,{id:"email",formData:this.state.formData.email,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"name",formData:this.state.formData.name,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"lastName",formData:this.state.formData.lastName,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"password",formData:this.state.formData.password,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"confirmPassword",formData:this.state.formData.confirmPassword,change:function(a){return e.onChange(a)}}),this.state.formError?r.a.createElement("div",{className:ia.a.errorLabel},"Please check your data"):null,r.a.createElement("div",{className:ia.a.buttonsContainer},r.a.createElement(ce,{clicked:this.onSubmit,content:"Register"})),r.a.createElement("div",{className:ia.a.switchType},"OR"),r.a.createElement("div",{className:ia.a.buttonsContainerCenter,onClick:this.props.changeType},r.a.createElement(ce,{content:"Login"})))))}}]),a}(n.Component),ya=Object(va.a)()(Object(u.g)(fa)),ba=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).state={desktop:window.innerWidth>=768,login:!0,formError:!1,formSuccess:"",formData:{email:{element:"input",value:"",config:{name:"email_input",type:"email",placeholder:"Enter your email"},validation:{required:!0,email:!0},valid:!1,touched:!1,validationMessage:""},password:{element:"input",value:"",config:{name:"password_input",type:"password",placeholder:"Enter your password"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:""}}},t.onChange=function(e){var a=We(e,t.state.formData,"login");t.setState({formError:!1,formData:a})},t.onSubmit=function(e){e.preventDefault();var a=ze(t.state.formData,"login");qe(t.state.formData,"login")?t.props.dispatch(sa(a)).then(function(e){e.payload.loginSuccess?t.props.history.push("/"):t.setState({formError:!0})}):t.setState({formError:!0})},t.changeType=function(){t.setState(function(e){return{login:!e.login}})},t.renderLogin=function(){return r.a.createElement(ca.a,{bottom:!0},r.a.createElement("div",{className:ia.a.formContainer},r.a.createElement("h1",{className:ia.a.heading},"Log In"),r.a.createElement("form",{onSubmit:t.onSubmit},r.a.createElement(Ue,{id:"email",formData:t.state.formData.email,change:function(e){return t.onChange(e)}}),r.a.createElement(Ue,{id:"password",formData:t.state.formData.password,change:function(e){return t.onChange(e)}}),t.state.formError?r.a.createElement("div",{className:ia.a.errorLabel},"Please check your data"):null,r.a.createElement("div",{className:ia.a.buttonsContainer},r.a.createElement(ce,{clicked:t.onSubmit,content:"Login",linkto:""})),r.a.createElement("div",{className:ia.a.switchType},"OR"),r.a.createElement("div",{className:ia.a.buttonsContainerCenter,onClick:t.changeType},r.a.createElement(ce,{content:"Register"})))))},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(X,null,this.props.user.success?"You can now log in":null,r.a.createElement("div",{className:ia.a.logInContainer},r.a.createElement("div",{className:ia.a.logInPhoto}),this.state.login?this.renderLogin():r.a.createElement(ya,{changeType:this.changeType})))}}]),a}(n.Component),ga=Object(va.a)(function(e){return{user:e.user}})(Object(u.g)(ba)),Ea=t(56),_a=t.n(Ea),ka=function(e){return r.a.createElement("div",null,r.a.createElement(K,{admin:!0}),e.children)},Ca=t(109),Sa=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).state={uploadedFiles:t.props.images||[],uploading:!1,isMobile:window.innerWidth<=768},t.onDrop=function(e){t.setState({uploading:!0});var a=new FormData;a.append("file",e[0]),D.a.post("/api/users/uploadimage",a,{header:{"content-type":"multipart/form-data"}}).then(function(e){t.setState({uploading:!1,uploadedFiles:[].concat(Object(Se.a)(t.state.uploadedFiles),[e.data])},function(){console.log(t.state.uploadedFiles),t.props.imageHandler(t.state.uploadedFiles)})})},t.showUploadedImages=function(){return t.state.uploadedFiles.map(function(e){return r.a.createElement("div",{key:e.public_id,onClick:function(){return t.onRemove(e.public_id)}},r.a.createElement("div",{className:"wrap",style:{background:"url(".concat(e.url,") no-repeat"),height:t.state.isMobile?"120px":"200px",width:t.state.isMobile?"120px":"200px",backgroundSize:"cover",backgroundPosition:"50% 60%"}}))})},t.onRemove=function(e){D.a.get("/api/users/removeimage?public_id=".concat(e)).then(function(a){var n=t.state.uploadedFiles.filter(function(a){return a.public_id!==e});t.setState({uploadedFiles:n},function(){t.props.imageHandler(n)})})},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",null,r.a.createElement(Ca.a,{onDrop:this.onDrop,multiple:!1,style:{width:"80%",height:"5vh",margin:"50px auto"}},r.a.createElement("div",{className:le.a.dropzone},r.a.createElement(k.a,{icon:C.k}),"Add photos here")),r.a.createElement("div",{className:le.a.dropzoneSlideshow},this.showUploadedImages())))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.reset?{uploadedFiles:[]}:null}}]),a}(n.Component),Oa=function(e){var a=e.type,t=e.text,o=Object(l.d)();return Object(n.useEffect)(function(){o.show(t,{type:a})},[]),r.a.createElement("div",null)};function Na(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}var Da,wa=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={editSuccess:!1,formError:!1,formSuccess:!1,formData:{name:{element:"input",value:"",config:{label:"Product name",name:"name_input",type:"text",placeholder:"Enter product name"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},description:{element:"textarea",value:"",config:{label:"Product description",name:"description_input",type:"text",placeholder:"Enter your description"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},price:{element:"input",value:"",config:{label:"Product price",name:"price_input",type:"number",placeholder:"Enter product price"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},brand:{element:"select",value:"",config:{label:"Product brand",name:"brand_input",options:[]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},material:{element:"select",value:"",config:{label:"product material",name:"material_input",options:[]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},type:{element:"select",value:"",config:{label:"Type",name:"type_input",options:[{key:"plushies",value:"plushies"},{key:"blankets",value:"blankets"},{key:"pillows",value:"pillows"}]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},shipping:{element:"select",value:"",config:{label:"Product shipping",name:"shipping_input",options:[{key:!0,value:"Yes"},{key:!1,value:"No"}]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},available:{element:"select",value:"",config:{label:"Available in stock",name:"available_input",options:[{key:!0,value:"Yes"},{key:!1,value:"No"}]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},publish:{element:"select",value:"",config:{label:"Publish product?",name:"publish_input",options:[{key:!0,value:"Yes"},{key:!1,value:"No"}]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},images:{value:[],validation:{required:!1,email:!1},valid:!0,touched:!1,validationMessage:"",showLabel:!1}}},t.imagesHandler=function(e){var a=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Na(t,!0).forEach(function(a){Object(Te.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Na(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}({},t.state.formData);a.images.value=e,a.images.valid=!0,t.setState({formData:a})},t.onChange=function(e){var a=We(e,t.state.formData,"products");t.setState({formError:!1,formData:a})},t.resetFieldsHandler=function(){var e=Ve(t.state.formData);t.setState({formSuccess:!0,formData:e}),setTimeout(function(){t.setState({formSuccess:!1})},2e3)},t.onSubmit=function(e){e.preventDefault();var a=ze(t.state.formData,"products");qe(t.state.formData,"products")?t.props.dispatch(De(a)).then(function(e){e.payload.success?t.setState({editSuccess:!0},function(){setTimeout(function(){t.setState({editSuccess:!1}),t.resetFieldsHandler()},5e3)}):t.setState({formError:!0})}):t.setState({formError:!0})},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.state.formData;this.props.dispatch(Oe()).then(function(t){var n=Ke(a,t.payload,"brand");e.setState({formData:n})}),this.props.dispatch(Ne()).then(function(t){var n=Ke(a,t.payload,"material");e.setState({formData:n})})}},{key:"render",value:function(){var e=this;return r.a.createElement(ka,null,r.a.createElement("div",{className:_a.a.formContainer},r.a.createElement("h1",null,"Add product"),r.a.createElement("form",{onSubmit:function(a){return e.onSubmit(a)}},r.a.createElement("div",{className:_a.a.formLayout},r.a.createElement("div",null,r.a.createElement(Ue,{id:"name",formData:this.state.formData.name,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"description",formData:this.state.formData.description,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"price",formData:this.state.formData.price,change:function(a){return e.onChange(a)}})),r.a.createElement("div",null,r.a.createElement(Ue,{id:"brand",formData:this.state.formData.brand,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"material",formData:this.state.formData.material,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"type",formData:this.state.formData.type,change:function(a){return e.onChange(a)}})),r.a.createElement("div",null,r.a.createElement(Ue,{id:"shipping",formData:this.state.formData.shipping,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"available",formData:this.state.formData.available,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"publish",formData:this.state.formData.publish,change:function(a){return e.onChange(a)}})),this.state.formError?r.a.createElement("div",{className:"error_label"},"Please check your data"):null,this.state.formSuccess?r.a.createElement("div",{className:"form_success"},"Success"):null),r.a.createElement("div",{className:_a.a.dropzone},r.a.createElement(Sa,{imageHandler:this.imagesHandler})),r.a.createElement("div",{className:_a.a.btn},r.a.createElement(ce,{onClick:function(a){return e.onSubmit(a)},content:"Add product"})),this.state.editSuccess?r.a.createElement(Oa,{type:"success",text:"Product added"}):null)))}}]),a}(n.Component),Pa=Object(_e.b)(function(e){return{products:e.products}})(wa),ja=t(51),Ia=t.n(ja),Ma=t(84),La=t.n(Ma),xa=t(101),Ta=t(102),Ba=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={currentImage:0},t.handleNextImage=function(){t.state.currentImage<t.props.images.length-1&&t.setState(function(e){return{currentImage:e.currentImage+1}})},t.handlePrevImage=function(){0!==t.state.currentImage&&t.setState(function(e){return{currentImage:e.currentImage-1}})},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.images.length)}},{key:"render",value:function(){return r.a.createElement("div",{className:La.a.imageContainer},r.a.createElement(ue,{image:this.props.images[this.state.currentImage].url}),r.a.createElement("div",{className:La.a.icons},r.a.createElement("div",{onClick:this.handlePrevImage},r.a.createElement(k.a,{icon:xa.faArrowLeft})),r.a.createElement("div",{onClick:this.handleNextImage},r.a.createElement(k.a,{icon:Ta.faArrowRight}))))}}]),a}(n.Component),Aa=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={loading:!0},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(je(this.props.match.params.id)).then(function(a){return e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.props.item;return this.state.loading?r.a.createElement(Le,null):r.a.createElement(X,null,r.a.createElement("div",{className:Ia.a.heading},r.a.createElement("div",null,r.a.createElement("p",null,e.name)),r.a.createElement("div",null,r.a.createElement("p",null,"$",e.price))),r.a.createElement("div",{className:Ia.a.pageContainer},r.a.createElement("div",{className:Ia.a.productContainer},r.a.createElement("div",{className:Ia.a.imageContainer},r.a.createElement(Ba,{images:e.images}))),r.a.createElement("div",{className:Ia.a.descriptionContainer},r.a.createElement("span",null,"Description: "),r.a.createElement("p",null,e.description),r.a.createElement(ce,{content:"Add to cart",clicked:function(){return Ee(e._id)}}))))}}]),a}(n.Component),Ra=Object(_e.b)(function(e){return{item:e.product.item}})(Aa),Fa=t(31),Ua=t.n(Fa),Ga=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).state={products:[],sum:0},t.deleteItem=function(e){var a=t.state.products.filter(function(a){return a.id!==e});t.calculateTotalPrice(a),t.setState({products:a},function(){0===a.length?localStorage.removeItem("cart"):localStorage.setItem("cart",JSON.stringify(t.state.products))})},t.addItem=function(e,a){var n=t.state.products.find(function(a){return a.id===e}),r=t.state.products.findIndex(function(a){return a.id===e}),o=t.state.products;o[r]=n,n.count=a+1,t.calculateTotalPrice(o),t.setState({products:o},function(){return localStorage.setItem("cart",JSON.stringify(t.state.products))})},t.subtractItem=function(e,a){var n=t.state.products.find(function(a){return a.id===e}),r=t.state.products.findIndex(function(a){return a.id===e}),o=t.state.products;o[r]=n,n.count=a-1,t.calculateTotalPrice(o),0===n.count?t.deleteItem(e):t.setState({products:o},function(){return localStorage.setItem("cart",JSON.stringify(t.state.products))})},t.renderShoppingCart=function(){return t.state.products.map(function(e){return r.a.createElement(x,{id:e.id,name:e.name,count:e.count,price:e.price,image:e.images,linkto:e.linkto,key:e.id,deleteFromCart:t.deleteItem,addOne:t.addItem,subtractOne:t.subtractItem})})},t.calculateTotalPrice=function(e){var a=0;e&&(e.forEach(function(e){a+=e.price*e.count}),t.setState({sum:a}))},t.renderEmptyCart=function(){return r.a.createElement("div",{className:Ua.a.emptyCart},r.a.createElement("p",null,"Your shopping cart is empty"),r.a.createElement("div",{className:Ua.a.buttonsContainerCenter},r.a.createElement(ce,{content:"Shop now!",linkto:"/shop/plushies"})))},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({products:JSON.parse(localStorage.getItem("cart"))},function(){return e.calculateTotalPrice(e.state.products)})}},{key:"render",value:function(){return r.a.createElement(X,null,r.a.createElement("h2",{className:Ua.a.pageTitle},"Shopping cart"),r.a.createElement("div",{className:Ua.a.container},r.a.createElement("div",{className:Ua.a.shoppingCart},this.state.products&&this.state.sum>0?this.renderShoppingCart():this.renderEmptyCart()),this.state.products&&this.state.sum>0?r.a.createElement("div",{className:Ua.a.summary},r.a.createElement("div",{className:Ua.a.basketTotal},r.a.createElement("h5",null,"Basket totals"),r.a.createElement("hr",null),r.a.createElement("p",null,"Total price: ",r.a.createElement("span",null,"$",this.state.sum)),r.a.createElement("hr",{className:Ua.a.lightLine})),r.a.createElement("div",{className:Ua.a.Checkout},r.a.createElement(s.b,{to:{pathname:"/user/checkout",state:{products:this.state.products,total:this.state.sum}}},r.a.createElement(ce,{content:"Checkout"})))):null))}}]),a}(n.Component),Ha=Object(_e.b)(function(e){return{user:e.user.userData}})(Ga),za=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=function(n){function o(){var e,a;Object(d.a)(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(h.a)(o)).call.apply(e,[this].concat(n)))).state={loading:!0},a}return Object(v.a)(o,n),Object(m.a)(o,[{key:"componentDidMount",value:function(){var e=this;this.componentMounted=!0,this.props.dispatch(ma()).then(function(n){var r=e.props.user.userData;r.isAuth?t&&!r.isAdmin?e.props.history.push("/user/dashboard"):!1===a&&e.props.history.push("/user/dashboard"):a&&e.props.history.push("/account/login"),e.componentMounted&&e.setState({loading:!1})})}},{key:"componentWillUnmount",value:function(){this.componentMounted=!1}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"main_loader"},r.a.createElement(Le,null)):r.a.createElement(e,Object.assign({},this.props,{user:this.props.user}))}}]),o}(n.Component),i=function(e){return{user:e.user}};return Object(_e.b)(i)(o)},qa=t(42),Wa=t.n(qa),Ka=t(57),Va=t.n(Ka),Ya=t(103),Ja=t.n(Ya),Za=function(e){var a=e.unwanted;return r.a.createElement("div",{className:Ja.a.container},a?r.a.createElement(se,{title:"You should not be here",sub:"You probably tried to checkout with empty cart"}):r.a.createElement(se,{title:"You should not be here",sub:"If you think it is our mistake, contact us"}))},Xa=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).state={unwantedEntry:!1,orderSuccess:!1,id:null,formError:!1,formSuccess:!1,formData:{email:{element:"input",value:"",config:{name:"email_input",type:"email",placeholder:"Email"},validation:{required:!0,email:!0},valid:!1,touched:!1,validationMessage:""},name:{element:"input",value:"",config:{name:"name_input",type:"text",placeholder:"First Name"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:""},lastName:{element:"input",value:"",config:{name:"lastName_input",type:"text",placeholder:"Last name"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:""},country:{element:"select",value:"",config:{label:"Country",name:"country_input",options:[{key:"['Nigeria','NG']",value:"Nigeria"},{key:"['Afghanistan','AF']",value:"Afghanistan"},{key:"['\xc3\u0192\xe2\u20ac\xa6land Islands','AX']",value:"\xc3\u0192\xe2\u20ac\xa6land Islands"},{key:"['Albania','AL']",value:"Albania"},{key:"['Algeria','DZ']",value:"Algeria"},{key:"['American Samoa','AS']",value:"American Samoa"},{key:"['Andorra','AD']",value:"Andorra"},{key:"['Angola','AO']",value:"Angola"},{key:"['Anguilla','AI']",value:"Anguilla"},{key:"['Antarctica','AQ']",value:"Antarctica"},{key:"['Antigua and Barbuda','AG']",value:"Antigua and Barbuda"},{key:"['Argentina','AR']",value:"Argentina"},{key:"['Armenia','AM']",value:"Armenia"},{key:"['Aruba','AW']",value:"Aruba"},{key:"['Australia','AU']",value:"Australia"},{key:"['Austria','AT']",value:"Austria"},{key:"['Azerbaijan','AZ']",value:"Azerbaijan"},{key:"['Bahamas','BS']",value:"Bahamas"},{key:"['Bahrain','BH']",value:"Bahrain"},{key:"['Bangladesh','BD']",value:"Bangladesh"},{key:"['Barbados','BB']",value:"Barbados"},{key:"['Belarus','BY']",value:"Belarus"},{key:"['Belgium','BE']",value:"Belgium"},{key:"['Belize','BZ']",value:"Belize"},{key:"['Benin','BJ']",value:"Benin"},{key:"['Bermuda','BM']",value:"Bermuda"},{key:"['Bhutan','BT']",value:"Bhutan"},{key:"['Bolivia, Plurinational State of','BO']",value:'"Bolivia, Plurinational State of"'},{key:"['Bonaire, Sint Eustatius and Saba','BQ']",value:'"Bonaire, Sint Eustatius and Saba"'},{key:"['Bosnia and Herzegovina','BA']",value:"Bosnia and Herzegovina"},{key:"['Botswana','BW']",value:"Botswana"},{key:"['Bouvet Island','BV']",value:"Bouvet Island"},{key:"['Brazil','BR']",value:"Brazil"},{key:"['British Indian Ocean Territory','IO']",value:"British Indian Ocean Territory"},{key:"['Brunei Darussalam','BN']",value:"Brunei Darussalam"},{key:"['Bulgaria','BG']",value:"Bulgaria"},{key:"['Burkina Faso','BF']",value:"Burkina Faso"},{key:"['Burundi','BI']",value:"Burundi"},{key:"['Cambodia','KH']",value:"Cambodia"},{key:"['Cameroon','CM']",value:"Cameroon"},{key:"['Canada','CA']",value:"Canada"},{key:"['Cape Verde','CV']",value:"Cape Verde"},{key:"['Cayman Islands','KY']",value:"Cayman Islands"},{key:"['Central African Republic','CF']",value:"Central African Republic"},{key:"['Chad','TD']",value:"Chad"},{key:"['Chile','CL']",value:"Chile"},{key:"['China','CN']",value:"China"},{key:"['Christmas Island','CX']",value:"Christmas Island"},{key:"['Cocos (Keeling) Islands','CC']",value:"Cocos (Keeling) Islands"},{key:"['Colombia','CO']",value:"Colombia"},{key:"['Comoros','KM']",value:"Comoros"},{key:"['Congo','CG']",value:"Congo"},{key:"['Congo, the Democratic Republic of the','CD']",value:'"Congo, the Democratic Republic of the"'},{key:"['Cook Islands','CK']",value:"Cook Islands"},{key:"['Costa Rica','CR']",value:"Costa Rica"},{key:"['C\xc3\u0192\xc2\xb4te d'Ivoire','CI']",value:"C\xc3\u0192\xc2\xb4te d'Ivoire"},{key:"['Croatia','HR']",value:"Croatia"},{key:"['Cuba','CU']",value:"Cuba"},{key:"['Cura\xc3\u0192\xc2\xa7ao','CW']",value:"Cura\xc3\u0192\xc2\xa7ao"},{key:"['Cyprus','CY']",value:"Cyprus"},{key:"['Czech Republic','CZ']",value:"Czech Republic"},{key:"['Denmark','DK']",value:"Denmark"},{key:"['Djibouti','DJ']",value:"Djibouti"},{key:"['Dominica','DM']",value:"Dominica"},{key:"['Dominican Republic','DO']",value:"Dominican Republic"},{key:"['Ecuador','EC']",value:"Ecuador"},{key:"['Egypt','EG']",value:"Egypt"},{key:"['El Salvador','SV']",value:"El Salvador"},{key:"['Equatorial Guinea','GQ']",value:"Equatorial Guinea"},{key:"['Eritrea','ER']",value:"Eritrea"},{key:"['Estonia','EE']",value:"Estonia"},{key:"['Ethiopia','ET']",value:"Ethiopia"},{key:"['Falkland Islands (Malvinas)','FK']",value:"Falkland Islands (Malvinas)"},{key:"['Faroe Islands','FO']",value:"Faroe Islands"},{key:"['Fiji','FJ']",value:"Fiji"},{key:"['Finland','FI']",value:"Finland"},{key:"['France','FR']",value:"France"},{key:"['French Guiana','GF']",value:"French Guiana"},{key:"['French Polynesia','PF']",value:"French Polynesia"},{key:"['French Southern Territories','TF']",value:"French Southern Territories"},{key:"['Gabon','GA']",value:"Gabon"},{key:"['Gambia','GM']",value:"Gambia"},{key:"['Georgia','GE']",value:"Georgia"},{key:"['Germany','DE']",value:"Germany"},{key:"['Ghana','GH']",value:"Ghana"},{key:"['Gibraltar','GI']",value:"Gibraltar"},{key:"['Greece','GR']",value:"Greece"},{key:"['Greenland','GL']",value:"Greenland"},{key:"['Grenada','GD']",value:"Grenada"},{key:"['Guadeloupe','GP']",value:"Guadeloupe"},{key:"['Guam','GU']",value:"Guam"},{key:"['Guatemala','GT']",value:"Guatemala"},{key:"['Guernsey','GG']",value:"Guernsey"},{key:"['Guinea','GN']",value:"Guinea"},{key:"['Guinea-Bissau','GW']",value:"Guinea-Bissau"},{key:"['Guyana','GY']",value:"Guyana"},{key:"['Haiti','HT']",value:"Haiti"},{key:"['Heard Island and McDonald Islands','HM']",value:"Heard Island and McDonald Islands"},{key:"['Holy See (Vatican City State)','VA']",value:"Holy See (Vatican City State)"},{key:"['Honduras','HN']",value:"Honduras"},{key:"['Hong Kong','HK']",value:"Hong Kong"},{key:"['Hungary','HU']",value:"Hungary"},{key:"['Iceland','IS']",value:"Iceland"},{key:"['India','IN']",value:"India"},{key:"['Indonesia','ID']",value:"Indonesia"},{key:"['Iran, Islamic Republic of','IR']",value:'"Iran, Islamic Republic of"'},{key:"['Iraq','IQ']",value:"Iraq"},{key:"['Ireland','IE']",value:"Ireland"},{key:"['Isle of Man','IM']",value:"Isle of Man"},{key:"['Israel','IL']",value:"Israel"},{key:"['Italy','IT']",value:"Italy"},{key:"['Jamaica','JM']",value:"Jamaica"},{key:"['Japan','JP']",value:"Japan"},{key:"['Jersey','JE']",value:"Jersey"},{key:"['Jordan','JO']",value:"Jordan"},{key:"['Kazakhstan','KZ']",value:"Kazakhstan"},{key:"['Kenya','KE']",value:"Kenya"},{key:"['Kiribati','KI']",value:"Kiribati"},{key:"['Korea, Democratic People's Republic of','KP']",value:'"Korea, Democratic People\'s Republic of"'},{key:"['Korea, Republic of','KR']",value:'"Korea, Republic of"'},{key:"['Kuwait','KW']",value:"Kuwait"},{key:"[Kyrgyzstan','KG']",value:"yrgyzstan"},{key:"['Lao People`s Democratic Republic','LA']",value:"Lao People's Democratic Republic"},{key:"['Latvia','LV']",value:"Latvia"},{key:"['Lebanon','LB']",value:"Lebanon"},{key:"['Lesotho','LS']",value:"Lesotho"},{key:"['Liberia','LR']",value:"Liberia"},{key:"['Libya','LY']",value:"Libya"},{key:"['Liechtenstein','LI']",value:"Liechtenstein"},{key:"['Lithuania','LT']",value:"Lithuania"},{key:"['Luxembourg','LU']",value:"Luxembourg"},{key:"['Macao','MO']",value:"Macao"},{key:"['Macedonia, the Former Yugoslav Republic of','MK']",value:'"Macedonia, the Former Yugoslav Republic of"'},{key:"['Madagascar','MG']",value:"Madagascar"},{key:"['Malawi','MW']",value:"Malawi"},{key:"['Malaysia','MY']",value:"Malaysia"},{key:"['Maldives','MV']",value:"Maldives"},{key:"['Mali','ML']",value:"Mali"},{key:"['Malta','MT']",value:"Malta"},{key:"['Marshall Islands','MH']",value:"Marshall Islands"},{key:"['Martinique','MQ']",value:"Martinique"},{key:"['Mauritania','MR']",value:"Mauritania"},{key:"['Mauritius','MU']",value:"Mauritius"},{key:"['Mayotte','YT']",value:"Mayotte"},{key:"['Mexico','MX']",value:"Mexico"},{key:"['Micronesia, Federated States of','FM']",value:'"Micronesia, Federated States of'},{key:"['Moldova, Republic of','MD']",value:'"Moldova, Republic of"'},{key:"['Monaco','MC']",value:"Monaco"},{key:"['Mongolia','MN']",value:"Mongolia"},{key:"['Montenegro','ME']",value:"Montenegro"},{key:"['Montserrat','MS']",value:"Montserrat"},{key:"['Morocco','MA']",value:"Morocco"},{key:"['Mozambique','MZ']",value:"Mozambique"},{key:"['Myanmar','MM']",value:"Myanmar"},{key:"['Namibia','NA']",value:"Namibia"},{key:"['Nauru','NR']",value:"Nauru"},{key:"['Nepal','NP']",value:"Nepal"},{key:"['Netherlands','NL']",value:"Netherlands"},{key:"['New Caledonia','NC']",value:"New Caledonia"},{key:"['New Zealand','NZ']",value:"New Zealand"},{key:"['Nicaragua','NI']",value:"Nicaragua"},{key:"['Niger','NE']",value:"Niger"},{key:"['Niue','NU']",value:"Niue"},{key:"['Norfolk Island','NF']",value:"Norfolk Island"},{key:"['Northern Mariana Islands','MP']",value:"Northern Mariana Islands"},{key:"['Norway','NO']",value:"Norway"},{key:"['Oman','OM']",value:"Oman"},{key:"['Pakistan','PK']",value:"Pakistan"},{key:"['Palau','PW']",value:"Palau"},{key:"['Palestine, State of','PS']",value:'"Palestine, State of"'},{key:"['Panama','PA']",value:"Panama"},{key:"['Papua New Guinea','PG']",value:"Papua New Guinea"},{key:"['Paraguay','PY']",value:"Paraguay"},{key:"['Peru','PE']",value:"Peru"},{key:"['Philippines','PH']",value:"Philippines"},{key:"['Pitcairn','PN']",value:"Pitcairn"},{key:"['Poland','PL']",value:"Poland"},{key:"['Portugal','PT']",value:"Portugal"},{key:"['Puerto Rico','PR']",value:"Puerto Rico"},{key:"['Qatar','QA']",value:"Qatar"},{key:"['R\xc3\u0192\xc2\xa9union','RE']",value:"R\xc3\u0192\xc2\xa9union"},{key:"['Romania','RO']",value:"Romania"},{key:"['Russian Federation','RU']",value:"Russian Federation"},{key:"['Rwanda','RW']",value:"Rwanda"},{key:"['Saint Barth\xc3\u0192\xc2\xa9lemy','BL']",value:"Saint Barth\xc3\u0192\xc2\xa9lemy"},{key:"['Saint Helena','Ascension and Tristan da Cunha','SH']",value:'"Saint Helena, Ascension and Tristan da Cunha"'},{key:"['Saint Kitts and Nevis','KN']",value:"Saint Kitts and Nevis"},{key:"['Saint Lucia','LC']",value:"Saint Lucia"},{key:"['Saint Martin (French part)','MF']",value:"Saint Martin (French part)"},{key:"['Saint Pierre and Miquelon','PM']",value:"Saint Pierre and Miquelon"},{key:"['Saint Vincent and the Grenadines','VC']",value:"Saint Vincent and the Grenadines"},{key:"['Samoa','WS']",value:"Samoa"},{key:"['San Marino','SM']",value:"San Marino"},{key:"['Sao Tome and Principe','ST']",value:"Sao Tome and Principe"},{key:"['Saudi Arabia','SA']",value:"Saudi Arabia"},{key:"['Senegal','SN']",value:"Senegal"},{key:"['Serbia','RS']",value:"Serbia"},{key:"['Seychelles','SC']",value:"Seychelles"},{key:"['Sierra Leone','SL']",value:"Sierra Leone"},{key:"['Singapore','SG']",value:"Singapore"},{key:"['Sint Maarten (Dutch part)','SX']",value:"Sint Maarten (Dutch part)"},{key:"['Slovakia','SK']",value:"Slovakia"},{key:"['Slovenia','SI']",value:"Slovenia"},{key:"['Solomon Islands','SB']",value:"Solomon Islands"},{key:"['Somalia','SO']",value:"Somalia"},{key:"['South Africa','ZA']",value:"South Africa"},{key:"['South Georgia and the South Sandwich Islands','GS']",value:"South Georgia and the South Sandwich Islands"},{key:"['South Sudan','SS']",value:"South Sudan"},{key:"['Spain','ES']",value:"Spain"},{key:"['Sri Lanka','LK']",value:"Sri Lanka"},{key:"['Sudan','SD']",value:"Sudan"},{key:"['Suriname','SR']",value:"Suriname"},{key:"['Svalbard and Jan Mayen','SJ']",value:"Svalbard and Jan Mayen"},{key:"['Swaziland','SZ']",value:"Swaziland"},{key:"['Sweden','SE']",value:"Sweden"},{key:"['Switzerland','CH']",value:"Switzerland"},{key:"['Syrian Arab Republic','SY']",value:"Syrian Arab Republic"},{key:"['Taiwan, Province of China','TW']",value:'"Taiwan, Province of China"'},{key:"['Tajikistan','TJ']",value:"Tajikistan"},{key:"['Tanzania, United Republic of','TZ']",value:'"Tanzania, United Republic of"'},{key:"['Thailand','TH']",value:"Thailand"},{key:"['Timor-Leste','TL']",value:"Timor-Leste"},{key:"['Togo','TG']",value:"Togo"},{key:"['Tokelau','TK']",value:"Tokelau"},{key:"['Tonga','TO']",value:"Tonga"},{key:"['Trinidad and Tobago','TT']",value:"Trinidad and Tobago"},{key:"['Tunisia','TN']",value:"Tunisia"},{key:"['Turkey','TR']",value:"Turkey"},{key:"['Turkmenistan','TM']",value:"Turkmenistan"},{key:"['Turks and Caicos Islands','TC']",value:"Turks and Caicos Islands"},{key:"['Tuvalu','TV']",value:"Tuvalu"},{key:"['Uganda','UG']",value:"Uganda"},{key:"['Ukraine','UA']",value:"Ukraine"},{key:"['United Arab Emirates','AE']",value:"United Arab Emirates"},{key:"['United Kingdom','GB']",value:"United Kingdom"},{key:"['United States','US']",value:"United States"},{key:"['United States Minor Outlying Islands','UM']",value:"United States Minor Outlying Islands"},{key:"['Uruguay','UY']",value:"Uruguay"},{key:"['Uzbekistan','UZ']",value:"Uzbekistan"},{key:"['Vanuatu','VU']",value:"Vanuatu"},{key:"['Venezuela, Bolivarian Republic of','VE']",value:'"Venezuela, Bolivarian Republic of"'},{key:"['Viet Nam','VN']",value:"Viet Nam"},{key:"['Virgin Islands, British','VG']",value:'"Virgin Islands, British"'},{key:"['Virgin Islands, U.S.','VI']",value:'"Virgin Islands, U.S."'},{key:"['Wallis and Futuna','WF']",value:"Wallis and Futuna"},{key:"['Western Sahara','EH']",value:"Western Sahara"},{key:"['Yemen','YE']",value:"Yemen"},{key:"['Zambia','ZM']",value:"Zambia"},{key:"['Zimbabwe','ZW']",value:"Zimbabwe"}]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!1},city:{element:"input",value:"",config:{name:"city_input",type:"text",placeholder:"Town / City"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:""},street:{element:"input",value:"",config:{name:"street_input",type:"text",placeholder:"Street address"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:""},unit:{element:"input",value:"",config:{name:"unit_input",type:"text",placeholder:"Apartment, suite, unit, etc. (optional)"},validation:{required:!1,email:!1},valid:!1,touched:!1,validationMessage:""},state:{element:"input",value:"",config:{name:"state_input",type:"text",placeholder:"State / County"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:""},zip:{element:"input",value:"",config:{name:"zip_input",type:"text",placeholder:"Postcode / ZIP"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:""},phone:{element:"input",value:"",config:{name:"phone_input",type:"text",placeholder:"Phone (optional)"},validation:{required:!1,email:!1},valid:!1,touched:!1,validationMessage:""}}},t.onChange=function(e){var a=We(e,t.state.formData,"checkout");t.setState({formError:!1,formData:a})},t.onSubmit=function(e){e.preventDefault();var a=ze(t.state.formData,"checkout"),n=a.name,r=a.lastName,o=a.email,i=a.country,l=a.city,c=a.street,s=a.unit,u=a.state,d=a.zip,m=a.phone,p=t.props.user.userData.userId,h=void 0===p?"guest":p,v=qe(t.state.formData,"checkout"),f=t.props.location.state,y=f.products,b=f.total;console.log(b);var g={name:n,lastName:r,country:i,city:l,street:c,unit:s,state:u,zip:d,phone:m,email:o,products:y,total:b,userId:h};v?t.props.dispatch(pa(g)).then(function(e){console.log(e),t.setState({id:e.payload.order._id}),t.props.dispatch(ha(e.payload.order._id)).then(function(e){t.setState({orderSuccess:!0},function(){return localStorage.removeItem("cart")})})}):t.setState({formError:!0})},t.renderShoppingCart=function(){return r.a.createElement("div",{className:Wa.a.shoppingCartContainer},t.props.location.state.products.map(function(e){return r.a.createElement(x,{id:e.id,name:e.name,count:e.count,price:e.price,linkto:e.linkto,key:e.id})}))},t.renderForm=function(){return r.a.createElement("div",{key:"form"},t.props.user.userData?null:r.a.createElement("h5",{className:Va.a.heading},"Have an account? ",r.a.createElement(s.b,{to:"/account/login",style:{color:"#0082ad"}},"Log in")),r.a.createElement("div",{className:Va.a.formContainer},window.innerWidth<768?r.a.createElement("hr",null):null,r.a.createElement("form",{onSubmit:t.onSubmit},r.a.createElement("div",{className:Wa.a.formRow},r.a.createElement(Ue,{id:"email",formData:t.state.formData.email,change:function(e){return t.onChange(e)}}),r.a.createElement(Ue,{id:"name",formData:t.state.formData.name,change:function(e){return t.onChange(e)}}),r.a.createElement(Ue,{id:"lastName",formData:t.state.formData.lastName,change:function(e){return t.onChange(e)}}),r.a.createElement(Ue,{id:"country",formData:t.state.formData.country,change:function(e){return t.onChange(e)}}),r.a.createElement(Ue,{id:"street",formData:t.state.formData.street,change:function(e){return t.onChange(e)}}),r.a.createElement(Ue,{id:"unit",formData:t.state.formData.unit,change:function(e){return t.onChange(e)}}),r.a.createElement(Ue,{id:"city",formData:t.state.formData.city,change:function(e){return t.onChange(e)}}),r.a.createElement(Ue,{id:"state",formData:t.state.formData.state,change:function(e){return t.onChange(e)}}),r.a.createElement(Ue,{id:"zip",formData:t.state.formData.zip,change:function(e){return t.onChange(e)}}),r.a.createElement(Ue,{id:"phone",formData:t.state.formData.phone,change:function(e){return t.onChange(e)}})),t.state.formError?r.a.createElement("div",{className:Va.a.errorLabel},"Please check your data"):null,r.a.createElement("div",{className:Wa.a.buttonsContainerCenter},r.a.createElement(ce,{clicked:t.onSubmit,content:"Place order"})))))},t.renderOrderSuccessScreen=function(){return r.a.createElement("div",{className:Wa.a.orderSuccess},r.a.createElement("div",{className:Wa.a.orderSuccesIcon},r.a.createElement(k.a,{icon:$e.faSmile})),r.a.createElement("h2",null,"Order placed successfully"),r.a.createElement("p",null,"It currently is in a 'Ordered' state. Pay via bank transfer with the information on the next page (this can take longer) or click the PayPayl button to pay now."),r.a.createElement(s.b,{to:{pathname:"/user/checkout/payment",state:{id:t.state.id,total:t.props.location.state.total}}},r.a.createElement("div",{className:Wa.a.buttonsContainerCenter},r.a.createElement(ce,{content:"Payment"}))))},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.getItem("cart")||this.setState({unwantedEntry:!0}),this.props.user.userData.isAuth){var e=Ye(this.state.formData,this.props.user.userData);this.setState({formData:e})}}},{key:"render",value:function(){return this.state.unwantedEntry?r.a.createElement(Za,{unwanted:!0}):r.a.createElement(X,{no:!0},r.a.createElement("h1",{className:Va.a.heading},"Checkout details"),r.a.createElement("div",{className:Wa.a.checkoutContainer},this.state.orderSuccess?this.renderOrderSuccessScreen():[this.renderShoppingCart(),this.renderForm()]))}}]),a}(n.Component),Qa=Object(_e.b)()(Xa),$a=t(58),et=t.n($a),at=t(104),tt=t.n(at),nt=function(e){function a(){return Object(d.a)(this,a),Object(p.a)(this,Object(h.a)(a).apply(this,arguments))}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this,a=this.props.toPay;return r.a.createElement("div",null,r.a.createElement(tt.a,{style:{size:"medium",color:"black"},env:"sandbox",client:{sandbox:"AfnNsJttRle-jQjn3_Z-0wqND1cX7BOPdKlJ0lQomB9m6vy2aQBj7yWALjW7eKgPw4U1yeaTEg8IBqJc",production:""},currency:"PLN",total:a,onError:function(a){e.props.transactionError(a)},onSuccess:function(a){e.props.onSuccess(a)},onCancel:function(a){e.props.transactionCancelled(a)}}))}}]),a}(n.Component),rt=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).state={success:!1,error:!1,cancelled:!1},t.renderPaymentScreen=function(){return r.a.createElement("div",{className:et.a.Card},r.a.createElement("div",{className:et.a.cardContent},r.a.createElement("h1",{className:et.a.Heading},"Please make a following payment: "),r.a.createElement("p",null,"Total: ",r.a.createElement("span",null,t.props.location.state.total,"$")),r.a.createElement("p",null,"Account no: ",r.a.createElement("span",null,"xxxxxxxxxxxxxxxxxxxxx")),r.a.createElement("p",null,"Title: ",r.a.createElement("span",null,t.props.location.state.id))),r.a.createElement("div",{className:et.a.cardFooter},r.a.createElement(nt,{toPay:t.props.location.state.total,transactionError:function(e){return t.transactionError(e)},transactionCancelled:function(e){return t.transactionCancelled(e)},onSuccess:function(e){return t.transactionSuccess(e)}})))},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return this.props.location.state?r.a.createElement(X,null,this.state.error?r.a.createElement(ea,{content:"There was an error with your payment. Try again or do a bank transfer"}):this.state.cancelled?r.a.createElement(ea,{content:"You have cancelled your payment. Try again or do a bank transfer"}):this.state.success?r.a.createElement(ea,{success:!0,content:"Payment done. Now wait to receive your product"}):this.renderPaymentScreen()):r.a.createElement(u.a,{to:"/"})}},{key:"transactionError",value:function(e){this.setState({error:!0})}},{key:"transactionCancelled",value:function(e){this.setState({cancelled:!0})}},{key:"transactionSuccess",value:function(e){var a=this;this.props.dispatch(function(e){var a={id:e};return{type:"SUCCESS_BUY",payload:D.a.post("".concat("/api/users","/purchaseSuccess"),a).then(function(e){return e.data}).catch(function(e){return e})}}(this.props.location.state.id)).then(function(e){localStorage.removeItem("cart"),a.setState({success:!0})})}}]),a}(n.Component),ot=Object(_e.b)()(rt),it=t(70),lt=t.n(it),ct=function(e){var a=e.linkto,t=e.description,n=e.icon;return r.a.createElement(s.b,{to:a},r.a.createElement("div",{className:lt.a.card},r.a.createElement("div",{className:lt.a.icon},r.a.createElement(k.a,{icon:n})),r.a.createElement("div",{className:lt.a.description},t)))},st=t(71),ut=t.n(st),dt=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).renderUser=function(){return r.a.createElement("div",{className:ut.a.container},r.a.createElement(ct,{description:"Check my orders",linkto:"/user/orders",icon:C.o}),r.a.createElement(ct,{description:"Change account details",linkto:"/user/credentials",icon:C.q}),r.a.createElement(ct,{description:"Get in touch with us",linkto:"/contact",icon:C.g}),r.a.createElement("div",{onClick:t.logoutUser},r.a.createElement(ct,{description:"Log Out",icon:C.f,linkto:"/"})))},t.renderAdmin=function(){return r.a.createElement("div",{className:ut.a.container},r.a.createElement(ct,{description:"Open admin panel",linkto:"/account/admin",icon:C.p}),r.a.createElement("div",{onClick:t.logoutUser},r.a.createElement(ct,{description:"Log Out",icon:C.f,linkto:"/"})))},t.logoutUser=function(){ua()},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(X,null,r.a.createElement("div",{className:ut.a.descContainer},r.a.createElement("h1",null,"What would you like to do?")),r.a.createElement("div",null,this.props.user.userData.isAdmin?null:this.renderUser(),this.props.user.userData.isAdmin?this.renderAdmin():null))}}]),a}(n.Component),mt=Object(_e.b)(function(e){return{user:e.user}})(dt),pt=t(105),ht=t.n(pt),vt=t(40),ft=t.n(vt),yt=function(e){var a=e.name,t=e.price,n=e.quantity;return r.a.createElement("div",{className:ft.a.productBlock},r.a.createElement("div",{className:ft.a.product},r.a.createElement("span",null,a),r.a.createElement("span",null,t,"$"),r.a.createElement("span",null,n)))},bt=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).state={active:!1,loading:!0,status:null,products:[],sum:null},t.calculateTotalPrice=function(e){var a=0;e&&(e.forEach(function(e){a+=e.price*e.count}),t.setState({sum:a}))},t.toggleDropdown=function(e){var a=!t.state.active;t.setState({active:a})},t.renderProductInfo=function(){return t.state.products.map(function(e){return r.a.createElement(yt,{name:e.name,price:e.price,quantity:e.count,key:e.id})})},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.componentMounted=!0,this.props.dispatch(function(e){var a={id:e};return{type:"GET_ORDER_PRODUCTS",payload:D.a.post("".concat("/api/users","/orderInfo"),a).then(function(e){return e.data}).catch(function(e){return e})}}(this.props.id)).then(function(a){console.log(a),e.componentMounted&&e.setState({loading:!1,status:a.payload.orderInfo.status,products:a.payload.orderInfo.products},function(){e.calculateTotalPrice(e.state.products)})})}},{key:"componentWillUnmount",value:function(){this.componentMounted=!1}},{key:"render",value:function(){var e=this,a=this.props.id;return this.state.loading?r.a.createElement(Le,null):r.a.createElement("div",{className:ft.a.orderBlock,onClick:function(){return e.toggleDropdown(a)}},r.a.createElement("div",{className:ft.a.top},r.a.createElement("span",null,new Date(this.props.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})),r.a.createElement("span",null,this.props.order?r.a.createElement("span",null,this.state.status):null),this.props.user.userData.isAdmin?r.a.createElement(s.b,{to:{pathname:"/account/admin/user/order/".concat(a)}},r.a.createElement(k.a,{icon:C.c})):null),r.a.createElement("div",{className:"".concat(this.state.active?ft.a.active:ft.a.bottom)},this.props.order?this.renderProductInfo():null,"Total: ",this.state.sum,"$",this.props.user.userData.isAdmin||"ordered"!==this.state.status?null:r.a.createElement(s.b,{to:{pathname:"/user/checkout/payment",state:{id:a,total:this.state.sum}}},r.a.createElement(ce,{content:"Payment"}))))}}]),a}(n.Component),gt=Object(va.a)(function(e){return{order:e.user.orderInfo,user:e.user}})(bt),Et=t(106),_t=function(e){var a=e.data,t=e.columns,n=e.keyColumn,o=e.title,i=e.dtKey,l=e.prefix,c=e.locationData,u={keyColumn:n,title:o,features:{canSearch:!0,canOrderColumns:!0},font:"Nunito",dimensions:{datatable:{height:"350px",width:"100%"}},data:{columns:Object(Se.a)(t),rows:Object(Se.a)(a)}};return r.a.createElement("div",{style:{marginTop:"25px"}},r.a.createElement(Et.Datatable,{options:u,dtKey:i,CustomTableBodyCell:function(e){var a,t=e.cellVal,n=e.column;e.rowId;switch(t){case"ordered":a=t?r.a.createElement("div",{style:{color:"orange",textAlign:"left"}},t.toUpperCase()):r.a.createElement("div",{style:{color:"red",textAlign:"left"}},"No");break;case"payed":a=t?r.a.createElement("div",{style:{color:"green",textAlign:"left"}},t.toUpperCase()):r.a.createElement("div",{style:{color:"red",textAlign:"left"}},"No");break;case"canceled":a=t?r.a.createElement("div",{style:{color:"red",textAlign:"left"}},t.toUpperCase()):r.a.createElement("div",{style:{color:"red",textAlign:"left"}},"No");break;default:a=r.a.createElement("div",{style:{color:"black"}},t)}return"date"===n.dataType&&(a=r.a.createElement("div",{style:{color:"black",textAlign:"left"}},new Date(t).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}))),"text"===n.dataType&&(a=r.a.createElement("div",{style:{color:"black",textAlign:"left"}},r.a.createElement(s.b,{to:{pathname:"/".concat(l,"/").concat(t),state:{locationData:c}}},t))),a}}))},kt=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={orders:[],loading:!0},t.ordersColumns=[{id:"_id",label:"Order ID",colSize:"80px",dataType:"text"},{id:"createdAt",label:"Date",colSize:"100px",dataType:"date"},{id:"status",label:"Status",colSize:"80px"}],t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,a={userId:this.props.user.userData.userId};D.a.post("/api/user/userOrders",a).then(function(a){e.setState({orders:a.data.userOrders,loading:!1},function(){console.log(e.state.orders)})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(Le,null):r.a.createElement(X,null,r.a.createElement("div",{className:ht.a.ordersContainer},r.a.createElement("h1",null,"Your orders"),r.a.createElement(_t,{data:this.state.orders,columns:this.ordersColumns,prefix:"user/order",keyColumn:"id",title:"Your orders",dtKey:"userOrders"})))}}]),a}(n.Component),Ct=Object(_e.b)(function(e){return{user:e.user}})(kt),St=t(72),Ot=t.n(St),Nt=function(e){var a=e.description,t=e.count,n=e.linkto,o=e.icon,i=e.data;return r.a.createElement(s.b,{to:{pathname:n,state:{data:i||null}}},r.a.createElement("div",{className:Ot.a.card},r.a.createElement("div",{className:Ot.a.icon},r.a.createElement(k.a,{icon:o})),r.a.createElement("div",{className:Ot.a.description},a,t>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),t):null)))},Dt=t(45),wt=t.n(Dt),Pt=t(73),jt=t.n(Pt);jt.a.defaults.global.defaultFontFamily="'PT Sans', sans-serif",jt.a.defaults.global.legend.display=!1;var It=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(o)))).chartRef=r.a.createRef(),t.buildChart=function(){var e=function(){for(var e="#",a=0;a<6;a++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},a=t.chartRef.current.getContext("2d"),n=t.props,r=n.revenue,o=n.type,i=n.labels,l=n.title;"undefined"!==typeof Da&&Da.destroy(),Da=new jt.a(a,{plugins:[{beforeInit:function(a){var t=a.config.data,n=function(a){if(r.hasOwnProperty(a)&&"total"!==a){t.datasets.push({label:a,data:[0,0,0,0,0,0,0,0,0,0,0,0],fill:!1,borderColor:e()});var n=function(e){r[a].hasOwnProperty(e)&&t.datasets.forEach(function(t){t.label===a&&(t.data[e]=r[a][e])})};for(var o in r[a])n(o)}};for(var o in r)n(o)}}],type:o,data:{labels:i,datasets:[]},options:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:l,fontSize:20,fontFamily:"Nunito"},tooltips:{displayColors:!1,titleFontSize:16,bodyFontSize:14,xPadding:10,yPadding:10,callbacks:{label:function(e,a){return"".concat(a.datasets[e.datasetIndex].label,": $ ").concat(e.value)}}}}})},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.buildChart()}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"render",value:function(){return r.a.createElement("canvas",{id:"myChart",ref:this.chartRef})}}]),a}(n.Component),Mt=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={loading:!0,orders:null,users:null,usersCount:0,ordersCount:0,total:0,revenue:null,ordersColumns:[{id:"_id",label:"Order ID",colSize:"80px",dataType:"text"},{id:"name",label:"First name",colSize:"50px"},{id:"lastName",label:"Last name",colSize:"50px"},{id:"createdAt",label:"Date",colSize:"100px",dataType:"date"},{id:"status",label:"Status",colSize:"80px"}],userColumns:[{id:"_id",label:"User ID",colSize:"80px",dataType:"text"},{id:"name",label:"First name",colSize:"50px"},{id:"lastName",label:"Last name",colSize:"50px"}]},t.calculateMonthlyRevenue=function(){var e=t.state.orders.reduce(function(e,a){var t=a.createdAt,n=a.total,r=t.split("-",2),o=Object(_.a)(r,2),i=o[0],l=o[1];return e[i]=e[i]||{total:0},e[i][l-1]=(e[i][l-1]||0)+n,e[i].total=null,e},{});t.setState({revenue:e})},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.componentMounted=!0;var a=this.props.dispatch({type:"GET_ORDERS_LIST",payload:D.a.get("".concat("/api/admin","/ordersList")).then(function(e){return e.data}).catch(function(e){return e})}).then(function(a){e.componentMounted&&e.setState({orders:a.payload.ordersList.sort(function(e,a){return new Date(a.createdAt)-new Date(e.createdAt)})})}),t=this.props.dispatch({type:"GET_USERS_LIST",payload:D.a.get("".concat("/api/admin","/usersList")).then(function(e){return e.data}).catch(function(e){return e})}).then(function(a){e.componentMounted&&e.setState({users:a.payload.usersList})});Promise.all([a,t]).then(function(){return e.setState({ordersCount:e.state.orders.length,usersCount:e.state.users.length,total:e.state.orders.reduce(function(e,a){return{total:e.total+a.total}}),loading:!1},function(){return e.calculateMonthlyRevenue()})})}},{key:"componentWillUnmount",value:function(){this.componentMounted=!1}},{key:"render",value:function(){return this.state.loading?r.a.createElement(Le,null):this.props.user.userData.isAdmin?r.a.createElement(ka,null,r.a.createElement("div",{className:wt.a.container},r.a.createElement(Nt,{description:"Users",count:this.state.usersCount,icon:C.p,linkto:"/account/admin/users",data:this.state.users}),r.a.createElement(Nt,{description:"Orders",count:this.state.ordersCount,icon:C.o,linkto:"/account/admin/orders",data:this.state.orders}),r.a.createElement(Nt,{description:"Total sales",icon:C.e,linkto:"/account/admin",count:this.state.total.total}),r.a.createElement(Nt,{description:"Add product",icon:C.j,linkto:"/account/admin/add_product"})),r.a.createElement("div",{className:wt.a.chartContainer},r.a.createElement(It,{revenue:this.state.revenue,labels:["January","February","March","April","May","June","July","August","September","October","November","December"],type:"line",title:"Monthly revenue"})),r.a.createElement("div",{className:wt.a.container},r.a.createElement("div",{className:wt.a.ordersContainer},this.state.orders?r.a.createElement(_t,{data:this.state.orders.slice(0,5),columns:this.state.ordersColumns,prefix:"account/admin/order",keyColumn:"id",title:"Newest orders",dtKey:"orders"}):null))):null}}]),a}(n.Component),Lt=Object(_e.b)()(Mt),xt=(t(36),function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={loading:!1,userColumns:[{id:"_id",label:"User ID",colSize:"80px",dataType:"text"},{id:"name",label:"First name",colSize:"50px"},{id:"lastName",label:"Last name",colSize:"50px"}]},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return this.state.loading?r.a.createElement(Le,null):r.a.createElement(ka,null,r.a.createElement("div",{className:wt.a.containerUser},r.a.createElement(_t,{data:this.props.location.state.data,columns:this.state.userColumns,keyColumn:"id",title:"User list",dtKey:"userList",prefix:"user"})))}}]),a}(n.Component)),Tt=Object(_e.b)(function(e){return{usersList:e.admin.usersList}})(xt),Bt=t(47),At=t.n(Bt),Rt=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={loading:!0,orders:[]},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.componentMounted=!0,this.props.dispatch(function(e){var a={id:e};return{type:"GET_USER_INFO",payload:D.a.post("".concat("/api/admin","/getUserInfo"),a).then(function(e){return e.data}).catch(function(e){return e})}}(this.props.match.params.id)).then(function(a){e.componentMounted&&e.setState({loading:!1})}).catch(function(e){return e}),this.props.dispatch(function(e){var a={userId:e};return{type:"GET_USER_ORDERS",payload:D.a.post("".concat("/api/admin","/getUserOrders"),a).then(function(e){return e.data}).catch(function(e){return e})}}(this.props.match.params.id)).then(function(a){e.componentMounted&&e.setState({orders:a.payload},function(){return console.log(e.state)})})}},{key:"render",value:function(){return this.state.loading&&!this.props.user?r.a.createElement(Le,null):r.a.createElement(ka,null,r.a.createElement("div",{className:At.a.container},r.a.createElement("div",{className:At.a.userContent},r.a.createElement("div",{className:At.a.mainIcon},r.a.createElement(k.a,{icon:C.r})),r.a.createElement("div",{className:At.a.credentials},r.a.createElement("h3",null,this.props.user.lastName),r.a.createElement("h3",null,this.props.user.name)),r.a.createElement("div",{className:At.a.ordersCount},r.a.createElement("p",{style:{fontWeight:"bold"}},"Orders: ",this.state.orders.length)),r.a.createElement("div",{className:At.a.ordersContainer},this.state.orders.map(function(e){return r.a.createElement(gt,{id:e._id,key:e._id,date:e.createdAt})})))))}}]),a}(n.Component),Ft=Object(_e.b)(function(e){return{user:e.admin.userInfo}})(Rt),Ut=t(59),Gt=t.n(Ut);function Ht(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}var zt=function(e){function a(){var e,t;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(r)))).state={editSuccess:!1,formError:!1,formSuccess:!1,loading:!0,formData:{name:{element:"input",value:"",config:{label:"Product name",name:"name_input",type:"text",placeholder:"Enter product name"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},description:{element:"textarea",value:"",config:{label:"Product description",name:"description_input",type:"text",placeholder:"Enter your description"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},price:{element:"input",value:"",config:{label:"Product price",name:"price_input",type:"number",placeholder:"Enter product price"},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},brand:{element:"select",value:"",config:{label:"Product brand",name:"brand_input",options:[]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},material:{element:"select",value:"",config:{label:"product material",name:"material_input",options:[]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},type:{element:"select",value:"",config:{label:"Type",name:"type_input",options:[{key:"plushies",value:"plushies"},{key:"blankets",value:"blankets"},{key:"pillows",value:"pillows"}]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},shipping:{element:"select",value:"",config:{label:"Product shipping",name:"shipping_input",options:[{key:!0,value:"Yes"},{key:!1,value:"No"}]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},available:{element:"select",value:"",config:{label:"Available in stock",name:"available_input",options:[{key:!0,value:"Yes"},{key:!1,value:"No"}]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},publish:{element:"select",value:"",config:{label:"Publish product?",name:"publish_input",options:[{key:!0,value:"Yes"},{key:!1,value:"No"}]},validation:{required:!0,email:!1},valid:!1,touched:!1,validationMessage:"",showLabel:!0},images:{value:[],validation:{required:!1,email:!1},valid:!0,touched:!1,validationMessage:"",showLabel:!1}}},t.imagesHandler=function(e){var a=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ht(t,!0).forEach(function(a){Object(Te.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ht(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}({},t.state.formData);a.images.value=e,a.images.valid=!0,t.setState({formData:a})},t.onChange=function(e){var a=We(e,t.state.formData,"products");t.setState({formError:!1,formData:a})},t.onSubmit=function(e){e.preventDefault();var a=ze(t.state.formData,"products");qe(t.state.formData,"products")?t.props.dispatch(we(a,t.props.match.params.id)).then(function(e){e.payload.success?t.setState({editSuccess:!0},function(){setTimeout(function(){return t.setState({editSuccess:!1})},5e3)}):t.setState({formError:!0})}):t.setState({formError:!0})},t}return Object(v.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.state.formData,t=this.props.dispatch(je(this.props.match.params.id)).then(function(a){var t=Ye(e.state.formData,a.payload);e.setState({formData:t})}),n=this.props.dispatch(Oe()).then(function(t){var n=Ke(a,t.payload,"brand");e.setState({formData:n})}),r=this.props.dispatch(Ne()).then(function(t){var n=Ke(a,t.payload,"material");e.setState({formData:n})});Promise.all([t,n,r]).then(function(a){return e.setState({loading:!1})})}},{key:"render",value:function(){var e=this;this.props.alert;return this.state.loading?r.a.createElement(Le,null):r.a.createElement(ka,null,r.a.createElement("div",{className:Gt.a.formContainer},r.a.createElement("h1",null,"Edit product"),r.a.createElement("form",{onSubmit:function(a){return e.onSubmit(a)}},r.a.createElement("div",{className:Gt.a.formLayout},r.a.createElement("div",null,r.a.createElement(Ue,{id:"name",formData:this.state.formData.name,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"description",formData:this.state.formData.description,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"price",formData:this.state.formData.price,change:function(a){return e.onChange(a)}})),r.a.createElement("div",null,r.a.createElement(Ue,{id:"brand",formData:this.state.formData.brand,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"material",formData:this.state.formData.material,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"type",formData:this.state.formData.type,change:function(a){return e.onChange(a)}})),r.a.createElement("div",null,r.a.createElement(Ue,{id:"shipping",formData:this.state.formData.shipping,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"available",formData:this.state.formData.available,change:function(a){return e.onChange(a)}}),r.a.createElement(Ue,{id:"publish",formData:this.state.formData.publish,change:function(a){return e.onChange(a)}})),this.state.formError?r.a.createElement("div",{className:"error_label"},"Please check your data"):null,this.state.formSuccess?r.a.createElement("div",{className:"form_success"},"Success"):null),r.a.createElement("div",{className:Gt.a.dropzone},r.a.createElement(Sa,{imageHandler:this.imagesHandler,images:this.state.formData.images.value})),r.a.createElement("div",{className:Gt.a.btn},r.a.createElement(ce,{onClick:function(a){return e.onSubmit(a)},content:"Edit product"})),this.state.editSuccess?r.a.createElement(Oa,{type:"success",text:"Changes saved"}):null)))}}]),a}(n.Component),qt=Object(_e.b)(function(e){return{products:e.products}})(Object(l.e)()(zt)),Wt=function(){return r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:za(xe,null)}),r.a.createElement(u.b,{exact:!0,path:"/shop/:type",component:za(ra,null)}),r.a.createElement(u.b,{exact:!0,path:"/shop/:type/:id",component:za(Ra,null)}),r.a.createElement(u.b,{exact:!0,path:"/account/login",component:za(ga,!1)}),r.a.createElement(u.b,{exact:!0,path:"/account/register",component:za(ya,!1)}),r.a.createElement(u.b,{exact:!0,path:"/user/shopingCart",component:za(Ha,null)}),r.a.createElement(u.b,{exact:!0,path:"/user/checkout",component:za(Qa,null,!1)}),r.a.createElement(u.b,{exact:!0,path:"/user/checkout/payment",component:za(ot,null,!1)}),r.a.createElement(u.b,{exact:!0,path:"/user/dashboard",component:za(mt,!1)}),r.a.createElement(u.b,{exact:!0,path:"/user/orders",component:za(Ct,!0,!1)}),r.a.createElement(u.b,{exact:!0,path:"/account/admin/add_product",component:za(Pa,!0,!0)}),r.a.createElement(u.b,{exact:!0,path:"/account/admin/edit_product/:id",component:za(qt,!0,!0)}),r.a.createElement(u.b,{exact:!0,path:"/account/admin/users",component:za(Tt,!0,!0)}),r.a.createElement(u.b,{exact:!0,path:"/account/admin/user/:id",component:za(Ft,!0,!0)}),r.a.createElement(u.b,{exact:!0,path:"/account/admin",component:za(Lt,!0,!0)}),r.a.createElement(u.b,{component:za(Za,null,!1)}))},Kt=t(44),Vt=t(107),Yt=t.n(Vt),Jt=t(108);function Zt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Xt(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Zt(t,!0).forEach(function(a){Object(Te.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zt(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Qt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function $t(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Qt(t,!0).forEach(function(a){Object(Te.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qt(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function en(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function an(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?en(t,!0).forEach(function(a){Object(Te.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):en(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var tn=Object(Kt.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"REGISTER":return Xt({},e,{registerSuccess:a.payload.registerSuccess});case"LOGIN":return Xt({},e,{loginSuccess:a.payload.loginSuccess});case"AUTH_USER":return Xt({},e,{userData:a.payload});case"CHECKOUT":return Xt({},e,{checkout:a.payload});case"UPDATE_HISTORY":return Xt({},e,{history:a.payload});case"SUCCESS_BUY":return Xt({},e,{success:a.payload});case"GET_ORDER_PRODUCTS":return Xt({},e,{orderInfo:a.payload});case"LOGOUT":return Xt({},e,{userData:[]});default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_BRANDS":return $t({},e,{brands:a.payload});case"GET_TYPES":return $t({},e,{types:a.payload});case"GET_MATERIALS":return $t({},e,{materials:a.payload});case"ADD_PRODUCT":return $t({},e,{product:a.payload});case"EDIT_PRODUCT":return $t({},e,{editedProduct:a.payload});case"GET_PRODUCTS":return $t({},e,{articles:a.payload.articles,size:a.payload.size});case"GET_PRODUCTS_BY_ID":return $t({},e,{item:a.payload});default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_USERS_COUNT":return an({},e,{usersCount:a.payload});case"GET_ORDERS_COUNT":return an({},e,{ordersCount:a.payload});case"GET_USERS_LIST":return an({},e,{usersList:a.payload});case"GET_ORDERS_LIST":return an({},e,{ordersList:a.payload});case"EDIT_PRODUCT":return an({},e,{product:a.payload});case"GET_USER_INFO":return an({},e,{userInfo:a.payload});case"GET_USER_ORDERS":return an({},e,{userOrders:a.payload});case"ADD_TODO":case"DELETE_TODO":return an({},e,{success:a.payload});case"GET_TODO":return an({},e,{todos:a.payload});default:return e}}});t.d(a,"store",function(){return rn});var nn={position:l.b.BOTTOM_CENTER,timeout:3e3,offset:"30px",transition:l.c.SCALE},rn=Object(Kt.a)(Yt.a,Jt.a)(Kt.d)(tn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(r.a.createElement(l.a,Object.assign({template:c.a},nn),r.a.createElement(_e.a,{store:rn},r.a.createElement(s.a,null,r.a.createElement(Wt,null)))),document.getElementById("root"))}],[[110,1,2]]]);
//# sourceMappingURL=main.31f5aec1.chunk.js.map